<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>è·¨æœŸå†³ç­–å®éªŒ</title>
    <script src="js/jspsych.js"></script>
    <link href="css/jspsych.css" rel="stylesheet" type="text/css" />
    <link href="css/style.css" rel="stylesheet" type="text/css" />

    <script src="js/plugin-survey-likert.js"></script>
    <script src='js/plugin-html-slider-response.js'></script>
    <script src='js/plugin-html-button-response.js'></script>
    <script src='js/plugin-instructions.js'></script>
    <script src='js/plugin-survey-html-form.js'></script>
    <script src='js/plugin-fullscreen.js'></script>
    <script src='js/plugin-html-keyboard-response.js'></script>
    <script src='js/plugin-survey-text.js'></script>
    <script src='js/plugin-fullscreen.js'></script>
</head>

<body></body>

<script>
    const timeline = [];

    const nowdate = new Date(),
        month = nowdate.getMonth(),
        date = nowdate.getDate(),
        hour = nowdate.getHours(),
        minutes = nowdate.getMinutes()

    const file_name = month + 1 + '_' + date + '_' + hour + '_' + minutes

    const jsPsych = initJsPsych({
        on_finish: function () {
            jsPsych.data.get().localSave('json', `${file_name}.json`);
            document.getElementById('jspsych-content').innerHTML +=
                '<h1>å®éªŒç»“æŸï¼Œæ„Ÿè°¢æ‚¨çš„å‚ä¸ï¼</h1><h2>ç¥æ‚¨æœ‰ä¸ªç¾å¥½çš„ä¸€å¤©ï¼ğŸŒ</h2>'
        }
    });

    // å…¨å±æ˜¾ç¤º
    var enter_fullscreen = {
        type: jsPsychFullscreen,
        message: '<p>æœ¬æ¬¡å®éªŒéœ€è¦è¿›å…¥å…¨å±æ¨¡å¼ï¼Œè¯·ç‚¹å‡»ä¸‹æ–¹çš„å…è®¸æŒ‰é’®</p>',
        button_label: 'å…è®¸',
        fullscreen_mode: true
    };
    timeline.push(enter_fullscreen)

    // å°é¢
    var cover = {
        type: jsPsychInstructions,
        pages: [
            "<p style='font:bold 41px å¾®è½¯é›…é»‘; color:#B22222'>æ¬¢è¿å‚ä¸è·¨æœŸå†³ç­–å®éªŒ</p>\
            <p style='font:20px å¾®è½¯é›…é»‘; color:gray'><br/><br/>\
            <b>è¯¥å®éªŒæ²¡æœ‰æ—¶é—´é™åˆ¶ï¼Œè¯·åœ¨è®¤çœŸæ€è€ƒååšç­”</b><br/><br/>\
            <b>åœ¨å®éªŒè¿‡ç¨‹ä¸­è¯·å‹¿é€€å‡º</b><br/><br/>\
            <b>ç‚¹å‡»ä¸‹é¢çš„å¼€å§‹æŒ‰é’®å³å¯å¼€å§‹å®éªŒ</b></p>\
            <br/><br/>",
        ],
        show_clickable_nav: true,
        allow_backward: false,
        button_label_next: 'å¼€å§‹',
        allow_keys: false,
    };
    timeline.push(cover)

    // è¢«è¯•ä¿¡æ¯
    var info = {
        type: jsPsychSurveyHtmlForm,
        preamble: "<h1> è¯·å…ˆå¡«å†™ä»¥ä¸‹åŸºæœ¬ä¿¡æ¯ï¼š</h1><br/>",
        html: "<div id='groupform'>\
                        <label for='order'>è¢«è¯•åºå·ï¼š</label>\
                        <input type='number' id='order' name='order' required/>\
                    </div>\
                    <div id='groupform'>\
                        <label for='age'>è¢«è¯•å¹´é¾„ï¼š  </label>\
                        <input type='number' id='age' name='age' required/>\
                    </div>\
                    <div id='groupform'>\
                        <label for='grade'>æ‰€åœ¨å¹´çº§ï¼š  </label>\
                        <select id='grade' name='grade' required/>\
                            <option value=''></option>\
                            <option value='1'>å¤§ä¸€</option>\
                            <option value='2'>å¤§äºŒ</option>\
                            <option value='3'>å¤§ä¸‰</option>\
                            <option value='4'>å¤§å››</option>\
                            <option value='5'>ç ”ä¸€</option>\
                            <option value='6'>ç ”äºŒ</option>\
                            <option value='7'>ç ”ä¸‰</option>\
                        </select>\
                    </div>\
                    <div id='groupform'>\
                        <label for='income'>å®¶åº­å¹´æ”¶å…¥ï¼š</label>\
                        <select id='income' name='income' required/>\
                            <option value=''></option>\
                            <option value='1'>å°äº3ä¸‡å…ƒ</option>\
                            <option value='2'>3~8ä¸‡å…ƒ</option>\
                            <option value='3'>9~14ä¸‡å…ƒ</option>\
                            <option value='4'>15~20ä¸‡å…ƒ</option>\
                            <option value='5'>20ä¸‡å…ƒä»¥ä¸Š</option>\
                        </select>\
                    </div>\
                    <div id='groupform'>\
                        <label for='father_edu'>çˆ¶äº²å­¦å†ï¼š</label>\
                        <select id='father_edu' name='father_edu' required/>\
                            <option value=''></option>\
                            <option value='1'>å°å­¦åŠä»¥ä¸‹</option>\
                            <option value='2'>åˆä¸­</option>\
                            <option value='3'>é«˜ä¸­/ä¸­ä¸“/æŠ€æ ¡</option>\
                            <option value='4'>å¤§ä¸“</option>\
                            <option value='5'>å¤§å­¦æœ¬ç§‘</option>\
                            <option value='6'>ç ”ç©¶ç”ŸåŠä»¥ä¸Š</option>\
                        </select>\
                    </div>\
                    <div id='groupform'>\
                        <label for='monther_edu'>æ¯äº²å­¦å†ï¼š</label>\
                        <select id='monther_edu' name='monther_edu' required/>\
                            <option value=''></option>\
                            <option value='1'>å°å­¦åŠä»¥ä¸‹</option>\
                            <option value='2'>åˆä¸­</option>\
                            <option value='3'>é«˜ä¸­/ä¸­ä¸“/æŠ€æ ¡</option>\
                            <option value='4'>å¤§ä¸“</option>\
                            <option value='5'>å¤§å­¦æœ¬ç§‘</option>\
                            <option value='6'>ç ”ç©¶ç”ŸåŠä»¥ä¸Š</option>\
                        </select>\
                    </div>\
                    <div id='groupform'>\
                        <label for='divorce'>çˆ¶æ¯æ˜¯å¦ç¦»å¼‚ï¼š</label>\
                        <input type='radio' id='divorce1' name='divorce' value='1'required/>\
                        <label for='divorce1'>æ˜¯</label>\
                        <input type='radio' id='divorce0' name='divorce' value='0'required/>\
                        <label for='divorce0'>å¦</label>\
                    </div>\
                    <div id='groupform'>\
                        <label for='single'>ç‹¬ç”Ÿå­å¥³ï¼š</label>\
                        <input type='radio' id='single1' name='single' value='1' required/>\
                        <label for='single1'>æ˜¯</label>\
                        <input type='radio' id='single0' name='single' value='0' required/>\
                        <label for='single0'>å¦</label>\
                    </div>\
                    <div id='groupform'>\
                        <label for='divorce'>æ€§åˆ«ï¼š</label>\
                        <input type='radio' id='gender1' name='gender' value='1' required/>\
                        <label for='gender1'>ç”·</label>\
                        <input type='radio' id='gender0' name='gender' value='0' required/>\
                        <label for='gender0'>å¥³</label>\
                    </div>",
        button_label: 'ä¸‹ä¸€é¡µ',
        dataAsArray: true,
        autofocus: 'test-resp-box',
    };
    timeline.push(info);

    //sliderå®éªŒ
    var slider_instr = {
        type: jsPsychInstructions,
        pages: [
            "<h1>ç¬¬ä¸€éƒ¨åˆ†</h1><br/>\
                <h2 style='line-height:120%'>è¯¥éƒ¨åˆ†è¦æ±‚ä½ æŒ‡å‡ºä»ç°åœ¨åˆ°æœªæ¥å‡ å¤©ä¹‹é—´æŒç»­æ—¶é—´çš„ä¸»è§‚æ„Ÿè§‰<br/>\
                    æœªæ¥å‡ å¤©ä» 1 å¤©åˆ° 365 å¤©ä¸ç­‰<br/>\
                    è¯·ä»”ç»†é˜…è¯»è¯´æ˜å¹¶æ ‡å‡ºä½ çš„å›ç­”<br/></h2>\
                <h3 style='color:gray'><å¦‚æœå‡†å¤‡å¥½äº†è¯·ç‚¹å‡»å¼€å§‹></h3>",
        ],
        show_clickable_nav: true,
        allow_backward: false,
        button_label_next: 'å¼€å§‹',
        allow_keys: false,
    };
    timeline.push(slider_instr)

    var silder_trails = {
        timeline: [{
            type: jsPsychHtmlSliderResponse,
            stimulus: function () {
                var html =
                    `<h2>ä»ç°åœ¨å¼€å§‹ç»è¿‡<u> ${jsPsych.timelineVariable('day')} </u>å¤©ï¼Œä½ è®¤ä¸ºè¿™æ®µæ—¶é—´æœ‰å¤šé•¿ï¼Œè¯·ç”¨ä¸‹é¢çš„æ»‘å—è¡¨ç¤ºå‡ºæ¥</h2><br/>`
                return html;
            },
            require_movement: true,
            labels: ['<p id="slider-label">éå¸¸çŸ­</p>', '<p id="slider-label">éå¸¸é•¿</p>'],
            slider_start: 0,
            button_label: 'ç¡®å®š',
            slider_width: 750,
            step: 0.01,
        }, ],
        timeline_variables: [{
                day: '1'
            },
            {
                day: '7'
            },
            {
                day: '13'
            },
            {
                day: '14'
            },
            {
                day: '19'
            },
            {
                day: '20'
            },
            {
                day: '21'
            },
            {
                day: '29'
            },
            {
                day: '30'
            },
            {
                day: '53'
            },
            {
                day: '61'
            },
            {
                day: '62'
            },
            {
                day: '80'
            },
            {
                day: '89'
            },
            {
                day: '91'
            },
            {
                day: '111'
            },
            {
                day: '117'
            },
            {
                day: '119'
            },
            {
                day: '136'
            },
            {
                day: '157'
            },
            {
                day: '160'
            },
            {
                day: '162'
            },
            {
                day: '179'
            },
            {
                day: '186'
            },
            {
                day: '365'
            }
        ],
        randomize_order: true
    }
    timeline.push(silder_trails)

    //æ—¶é—´æŠ˜ç°èŒƒå¼
    var TD_instr = {
        type: jsPsychInstructions,
        pages: [
            "<h1>ç¬¬äºŒéƒ¨åˆ†</h1><br/>\
                <h2 style='line-height:120%'>æ¥ä¸‹æ¥ä¼šå‡ºç°ä¸¤ç¬”é’±ï¼Œä¸€ç¬”æ•°é¢è¾ƒå°ï¼Œä½ ç°åœ¨å°±å¯ä»¥å¾—åˆ°ï¼›<br/>\
                    å¦ä¸€ç¬”æ•°é¢è¾ƒå¤§ï¼Œä½ éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´åæ‰èƒ½å¾—åˆ°ï¼Œä½ ä¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ<br/></h2>\
                <h3 style='color:gray'><å¦‚æœå‡†å¤‡å¥½äº†è¯·ç‚¹å‡»å¼€å§‹></h3>",
        ],
        show_clickable_nav: true,
        allow_backward: false,
        button_label_next: 'å¼€å§‹',
        allow_keys: false,
    };
    timeline.push(TD_instr)

    // å®éªŒä¸€
    var normal_trails = {
        timeline: [{
            type: jsPsychHtmlButtonResponse,
            stimulus: '<h2>è¯·åšå‡ºä½ çš„é€‰æ‹©</h2><br/>',
            choices: [function () {
                    var html = `ç°åœ¨å¾—åˆ°<u> ${jsPsych.timelineVariable('SDR')} </u> å…ƒ `
                    return html;
                },
                function () {
                    var html =
                        `&nbsp<u> ${jsPsych.timelineVariable('day')} </u>å¤©åå¾—åˆ°<u> ${jsPsych.timelineVariable('LDR')} </u> å…ƒ`
                    return html
                },
            ],
            button_html: "<button class='jspsych-btn-td' name='td-btn' disabled>%choice%</button>",
            data: {
                'order': jsPsych.timelineVariable('order')
            },
            on_load: function () {
                setTimeout(function () {
                    $('button[name="td-btn"]').removeAttr('disabled');
                }, 800);
            },
        }, ],
        timeline_variables: [{
                SDR: '54',
                LDR: '55',
                day: '117',
                order: "normal_1"
            },
            {
                SDR: '55',
                LDR: '75',
                day: '61',
                order: "normal_2"
            },
            {
                SDR: '19',
                LDR: '25',
                day: '53',
                order: "normal_3"
            },
            {
                SDR: '31',
                LDR: '85',
                day: '7',
                order: "normal_4"
            },
            {
                SDR: '14',
                LDR: '25',
                day: '19',
                order: "normal_5"
            },
            {
                SDR: '47',
                LDR: '50',
                day: '160',
                order: "normal_6"
            },
            {
                SDR: '15',
                LDR: '35',
                day: '13',
                order: "normal_7"
            },
            {
                SDR: '25',
                LDR: '60',
                day: '14',
                order: "normal_8"
            },
            {
                SDR: '78',
                LDR: '80',
                day: '162',
                order: "normal_9"
            },
            {
                SDR: '40',
                LDR: '55',
                day: '62',
                order: "normal_10"
            },
            {
                SDR: '11',
                LDR: '30',
                day: '7',
                order: "normal_11"
            },
            {
                SDR: '67',
                LDR: '75',
                day: '119',
                order: "normal_12"
            },
            {
                SDR: '34',
                LDR: '35',
                day: '186',
                order: "normal_13"
            },
            {
                SDR: '27',
                LDR: '50',
                day: '21',
                order: "normal_14"
            },
            {
                SDR: '69',
                LDR: '85',
                day: '91',
                order: "normal_15"
            },
            {
                SDR: '49',
                LDR: '60',
                day: '89',
                order: "normal_16"
            },
            {
                SDR: '80',
                LDR: '85',
                day: '157',
                order: "normal_17"
            },
            {
                SDR: '24',
                LDR: '35',
                day: '29',
                order: "normal_18"
            },
            {
                SDR: '33',
                LDR: '80',
                day: '14',
                order: "normal_19"
            },
            {
                SDR: '28',
                LDR: '30',
                day: '179',
                order: "normal_20"
            },
            {
                SDR: '34',
                LDR: '50',
                day: '30',
                order: "normal_21"
            },
            {
                SDR: '25',
                LDR: '30',
                day: '80',
                order: "normal_22"
            },
            {
                SDR: '41',
                LDR: '75',
                day: '20',
                order: "normal_23"
            },
            {
                SDR: '54',
                LDR: '60',
                day: '111',
                order: "normal_24"
            },
            {
                SDR: '54',
                LDR: '80',
                day: '30',
                order: "normal_25"
            },
            {
                SDR: '22',
                LDR: '25',
                day: '136',
                order: "normal_26"
            },
            {
                SDR: '20',
                LDR: '55',
                day: '7',
                order: "normal_27"
            },
        ],
    };
    timeline.push(normal_trails)

    var break_time = {
        type: jsPsychHtmlKeyboardResponse,
        stimulus: '<h1>è¯·ä¼‘æ¯ä¸€ä¸‹ï¼</h1>',
        choices: "NO_KEYS",
        trial_duration: 3000,
    };
    timeline.push(break_time)

    //å®éªŒäºŒ
    var day_trails = {
        timeline: [{
            type: jsPsychHtmlButtonResponse,
            stimulus: function () {
                var html = `<h2>è¯·æƒ³è±¡ä¸€ä¸‹ä½ æœ‰ä¸€ä»½å·¥ä½œï¼Œè¿™ä»½å·¥ä½œçš„å·¥èµ„æŒ‰<span style='color:red'> ${jsPsych.timelineVariable('day')} </span> ç»“ç®—ã€‚\
                            <br/>ä½ å¯ä»¥é€‰æ‹©åœ¨å·¥ä½œå¼€å§‹å‰è·å¾—ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©åœ¨å·¥ä½œç»“æŸåè·å¾—ï¼Œä½ ä¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h2><br/>`
                return html;
            },
            choices: [function () {
                    var html =
                        `å·¥ä½œå¼€å§‹å‰çš„<b> ${jsPsych.timelineVariable('start')} </b><br/>è·å¾—<u> ${jsPsych.timelineVariable('SDR')} </u> å…ƒ`
                    return html;
                },
                function () {
                    var html =
                        `å·¥ä½œç»“æŸåçš„<b> ${jsPsych.timelineVariable('last')} </b><br/>å¾—åˆ°<u> ${jsPsych.timelineVariable('LDR')} </u> å…ƒ`
                    return html
                },
            ],
            button_html: "<button class='jspsych-btn-td' name='td-btn' disabled>%choice%</button>",
            data: {
                'order': jsPsych.timelineVariable('order')
            },
            on_load: function () {
                setTimeout(function () {
                    $('button[name="td-btn"]').removeAttr('disabled');
                }, 800);
            },
        }, ],
        timeline_variables: [{
                SDR: '216',
                LDR: '217',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_1'
            },
            {
                SDR: '265',
                LDR: '267',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_2'
            },
            {
                SDR: '99',
                LDR: '100',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_3'
            },
            {
                SDR: '266',
                LDR: '333',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_4'
            },
            {
                SDR: '96',
                LDR: '100',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_5'
            },
            {
                SDR: '266',
                LDR: '267',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_6'
            },
            {
                SDR: '121',
                LDR: '133',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_7'
            },
            {
                SDR: '197',
                LDR: '217',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_8'
            },
            {
                SDR: '299',
                LDR: '300',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_9'
            },
            {
                SDR: '166',
                LDR: '167',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_10'
            },
            {
                SDR: '134',
                LDR: '167',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_11'
            },
            {
                SDR: '266',
                LDR: '267',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_12'
            },
            {
                SDR: '132',
                LDR: '133',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_13'
            },
            {
                SDR: '160',
                LDR: '167',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_14'
            },
            {
                SDR: '332',
                LDR: '333',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_15'
            },
            {
                SDR: '266',
                LDR: '267',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_16'
            },
            {
                SDR: '332',
                LDR: '333',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_17'
            },
            {
                SDR: '131',
                LDR: '133',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_18'
            },
            {
                SDR: '273',
                LDR: '300',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_19'
            },
            {
                SDR: '166',
                LDR: '167',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_20'
            },
            {
                SDR: '214',
                LDR: '217',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_21'
            },
            {
                SDR: '166',
                LDR: '167',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_22'
            },
            {
                SDR: '256',
                LDR: '267',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_23'
            },
            {
                SDR: '166',
                LDR: '167',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_24'
            },
            {
                SDR: '295',
                LDR: '300',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_25'
            },
            {
                SDR: '99',
                LDR: '100',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_26'
            },
            {
                SDR: '214',
                LDR: '267',
                day: 'å¤©',
                start: 'æ¸…æ™¨',
                last: 'å‚æ™š',
                order: 'day_27'
            },
        ],
    };

    var month_trails = {
        timeline: [{
            type: jsPsychHtmlButtonResponse,
            stimulus: function () {
                var html = `<h2>è¯·æƒ³è±¡ä¸€ä¸‹ä½ æœ‰ä¸€ä»½å·¥ä½œï¼Œè¿™ä»½å·¥ä½œçš„å·¥èµ„æŒ‰<span style='color:red'> ${jsPsych.timelineVariable('day')} </span> ç»“ç®—ã€‚\
                        <br/>ä½ å¯ä»¥é€‰æ‹©åœ¨å·¥ä½œå¼€å§‹å‰è·å¾—ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©åœ¨å·¥ä½œç»“æŸåè·å¾—ï¼Œä½ ä¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h2><br/>`
                return html;
            },
            choices: [function () {
                    var html =
                        `å·¥ä½œå¼€å§‹å‰çš„<b> ${jsPsych.timelineVariable('start')} </b> <br/>è·å¾—<u> ${jsPsych.timelineVariable('SDR')} </u> å…ƒ`
                    return html;
                },
                function () {
                    var html =
                        `å·¥ä½œç»“æŸåçš„<b> ${jsPsych.timelineVariable('last')} </b> <br/>å¾—åˆ°<u> ${jsPsych.timelineVariable('LDR')} </u> å…ƒ`
                    return html
                },
            ],
            button_html: "<button class='jspsych-btn-td' name='td-btn' disabled>%choice%</button>",
            data: {
                'order': jsPsych.timelineVariable('order')
            },
            on_load: function () {
                setTimeout(function () {
                    $('button[name="td-btn"]').removeAttr('disabled');
                }, 800);
            },
        }, ],
        timeline_variables: [{
                SDR: '6469',
                LDR: '6500',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_1'
            },
            {
                SDR: '6780',
                LDR: '8000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_2'
            },
            {
                SDR: '2542',
                LDR: '3000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_3'
            },
            {
                SDR: '1176',
                LDR: '9999',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_4'
            },
            {
                SDR: '1345',
                LDR: '3000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_5'
            },
            {
                SDR: '7904',
                LDR: '7999',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_6'
            },
            {
                SDR: '1000',
                LDR: '4000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_7'
            },
            {
                SDR: '1625',
                LDR: '6500',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_8'
            },
            {
                SDR: '8957',
                LDR: '9000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_9'
            },
            {
                SDR: '4237',
                LDR: '5000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_10'
            },
            {
                SDR: '588',
                LDR: '4999',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_11'
            },
            {
                SDR: '7767',
                LDR: '8000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_12'
            },
            {
                SDR: '3981',
                LDR: '4000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_13'
            },
            {
                SDR: '2242',
                LDR: '5000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_14'
            },
            {
                SDR: '9301',
                LDR: '9999',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_15'
            },
            {
                SDR: '7441',
                LDR: '7999',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_16'
            },
            {
                SDR: '9880',
                LDR: '9999',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_17'
            },
            {
                SDR: '2703',
                LDR: '4000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_18'
            },
            {
                SDR: '2250',
                LDR: '9000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_19'
            },
            {
                SDR: '4940',
                LDR: '4999',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_20'
            },
            {
                SDR: '4392',
                LDR: '6500',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_21'
            },
            {
                SDR: '4650',
                LDR: '4999',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_22'
            },
            {
                SDR: '3587',
                LDR: '8000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_23'
            },
            {
                SDR: '4854',
                LDR: '5000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_24'
            },
            {
                SDR: '6081',
                LDR: '9000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_25'
            },
            {
                SDR: '2913',
                LDR: '3000',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_26'
            },
            {
                SDR: '941',
                LDR: '7999',
                day: 'æœˆ',
                start: 'æœˆåˆ',
                last: 'æœˆæœ«',
                order: 'month_27'
            },
        ],
    };

    var year_trails = {
        timeline: [{
            type: jsPsychHtmlButtonResponse,
            stimulus: function () {
                var html = `<h2>è¯·æƒ³è±¡ä¸€ä¸‹ä½ æœ‰ä¸€ä»½å·¥ä½œï¼Œè¿™ä»½å·¥ä½œçš„å·¥èµ„æŒ‰<span style='color:red'> ${jsPsych.timelineVariable('day')} </span>ç»“ç®—ã€‚\
                        <br/>ä½ å¯ä»¥é€‰æ‹©åœ¨å·¥ä½œå¼€å§‹å‰è·å¾—ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©åœ¨å·¥ä½œç»“æŸåè·å¾—ï¼Œä½ ä¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h2><br/>`
                return html;
            },
            choices: [function () {
                    var html =
                        `å·¥ä½œå¼€å§‹å‰çš„<b> ${jsPsych.timelineVariable('start')} </b> <br/>è·å¾—<u> ${jsPsych.timelineVariable('SDR')} </u> å…ƒ`
                    return html;
                },
                function () {
                    var html =
                        `å·¥ä½œç»“æŸåçš„<b> ${jsPsych.timelineVariable('last')} </b> <br/>å¾—åˆ°<u> ${jsPsych.timelineVariable('LDR')} </u> å…ƒ`
                    return html
                },
            ],
            button_html: "<button class='jspsych-btn-td' name='td-btn' disabled>%choice%</button>",
            data: {
                'order': jsPsych.timelineVariable('order')
            },
            on_load: function () {
                setTimeout(function () {
                    $('button[name="td-btn"]').removeAttr('disabled');
                }, 800);
            },
        }, ],
        timeline_variables: [{
                SDR: '73696',
                LDR: '78000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_1'
            },
            {
                SDR: '30094',
                LDR: '96000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_2'
            },
            {
                SDR: '11285',
                LDR: '36000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_3'
            },
            {
                SDR: '1301',
                LDR: '119998',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_4'
            },
            {
                SDR: '2255',
                LDR: '36000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_5'
            },
            {
                SDR: '83759',
                LDR: '95988',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_6'
            },
            {
                SDR: '1280',
                LDR: '48000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_7'
            },
            {
                SDR: '2080',
                LDR: '78000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_8'
            },
            {
                SDR: '102041',
                LDR: '108000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_9'
            },
            {
                SDR: '18809',
                LDR: '60000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_10'
            },
            {
                SDR: '650',
                LDR: '59988',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_11'
            },
            {
                SDR: '70330',
                LDR: '96000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_12'
            },
            {
                SDR: '45351',
                LDR: '48000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_13'
            },
            {
                SDR: '3758',
                LDR: '60000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_14'
            },
            {
                SDR: '62739',
                LDR: '119988',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_15'
            },
            {
                SDR: '50190',
                LDR: '95988',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_16'
            },
            {
                SDR: '104702',
                LDR: '119988',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_17'
            },
            {
                SDR: '7018',
                LDR: '48000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_18'
            },
            {
                SDR: '2880',
                LDR: '108000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_19'
            },
            {
                SDR: '52346',
                LDR: '59988',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_20'
            },
            {
                SDR: '11404',
                LDR: '78000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_21'
            },
            {
                SDR: '31366',
                LDR: '59988',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_22'
            },
            {
                SDR: '6013',
                LDR: '96000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_23'
            },
            {
                SDR: '43956',
                LDR: '60000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_24'
            },
            {
                SDR: '15789',
                LDR: '108000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_25'
            },
            {
                SDR: '26374',
                LDR: '36000',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_26'
            },
            {
                SDR: '1041',
                LDR: '95988',
                day: 'å¹´',
                start: 'å¹´åˆ',
                last: 'å¹´æœ«',
                order: 'year_27'
            },
        ],
    };

    function shuffle(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
    };

    let trails2 = shuffle([day_trails, month_trails, year_trails])
    trails2.splice(1, 0, break_time)
    trails2.splice(3, 0, break_time)
    trails2.push(break_time)

    var exp2_node = {
        timeline: trails2,
    }
    timeline.push(exp2_node)

    // å®éªŒä¸‰
    var day_month_trails = {
        timeline: [{
            type: jsPsychHtmlButtonResponse,
            stimulus: "<h2>è¯·æƒ³è±¡ä¸€ä¸‹ä½ æœ‰ä¸€ä»½å·¥ä½œï¼Œè¿™ä»½å·¥ä½œçš„å·¥èµ„æœ‰ä¸¤ç§ç»“ç®—æ–¹å¼ï¼Œä½ ä¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h2><br/>",
            choices: [function () {
                    var html =
                        `ä»¥ <b>æ—¥è–ª</b> çš„æ–¹å¼ç»“ç®— <br/>æ¯å¤©å¯ä»¥å¾—åˆ°<u> ${jsPsych.timelineVariable('SDR')} </u>å…ƒ`
                    return html;
                },
                function () {
                    var html =
                        `ä»¥ <b>æœˆè–ª</b> çš„æ–¹å¼ç»“ç®— <br/>æ¯æœˆå¯ä»¥å¾—åˆ°<u> ${jsPsych.timelineVariable('LDR')} </u> å…ƒ`
                    return html
                },
            ],
            button_html: "<button class='jspsych-btn-td' name='td-btn' disabled>%choice%</button>",
            data: {
                'order': jsPsych.timelineVariable('order')
            },
            on_load: function () {
                setTimeout(function () {
                    $('button[name="td-btn"]').removeAttr('disabled');
                }, 500);
            },
        }, ],
        timeline_variables: [{
                SDR: '216',
                LDR: '6500',
                order: 'DM_1'
            },
            {
                SDR: '226',
                LDR: '8000',
                order: 'DM_2'
            },
            {
                SDR: '85',
                LDR: '3000',
                order: 'DM_3'
            },
            {
                SDR: '39',
                LDR: '9999',
                order: 'DM_4'
            },
            {
                SDR: '45',
                LDR: '3000',
                order: 'DM_5'
            },
            {
                SDR: '263',
                LDR: '7999',
                order: 'DM_6'
            },
            {
                SDR: '33',
                LDR: '4000',
                order: 'DM_7'
            },
            {
                SDR: '54',
                LDR: '6500',
                order: 'DM_8'
            },
            {
                SDR: '299',
                LDR: '9000',
                order: 'DM_9'
            },
            {
                SDR: '141',
                LDR: '5000',
                order: 'DM_10'
            },
            {
                SDR: '20',
                LDR: '4999',
                order: 'DM_11'
            },
            {
                SDR: '259',
                LDR: '8000',
                order: 'DM_12'
            },
            {
                SDR: '133',
                LDR: '4000',
                order: 'DM_13'
            },
            {
                SDR: '75',
                LDR: '5000',
                order: 'DM_14'
            },
            {
                SDR: '310',
                LDR: '9999',
                order: 'DM_15'
            },
            {
                SDR: '248',
                LDR: '7999',
                order: 'DM_16'
            },
            {
                SDR: '329',
                LDR: '9999',
                order: 'DM_17'
            },
            {
                SDR: '90',
                LDR: '4000',
                order: 'DM_18'
            },
            {
                SDR: '75',
                LDR: '9000',
                order: 'DM_19'
            },
            {
                SDR: '165',
                LDR: '4999',
                order: 'DM_20'
            },
            {
                SDR: '146',
                LDR: '6500',
                order: 'DM_21'
            },
            {
                SDR: '155',
                LDR: '4999',
                order: 'DM_22'
            },
            {
                SDR: '120',
                LDR: '8000',
                order: 'DM_23'
            },
            {
                SDR: '162',
                LDR: '5000',
                order: 'DM_24'
            },
            {
                SDR: '203',
                LDR: '9000',
                order: 'DM_25'
            },
            {
                SDR: '97',
                LDR: '3000',
                order: 'DM_26'
            },
            {
                SDR: '31',
                LDR: '7999',
                order: 'DM_27'
            },
        ],
    };

    var day_year_trails = {
        timeline: [{
            type: jsPsychHtmlButtonResponse,
            stimulus: "<h2>è¯·æƒ³è±¡ä¸€ä¸‹ä½ æœ‰ä¸€ä»½å·¥ä½œï¼Œè¿™ä»½å·¥ä½œçš„å·¥èµ„æœ‰ä¸¤ç§ç»“ç®—æ–¹å¼ï¼Œä½ ä¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h2><br/>",
            choices: [function () {
                    var html =
                        `ä»¥ <b>æ—¥è–ª</b> çš„æ–¹å¼ç»“ç®—<br/>æ¯æ—¥å¯ä»¥å¾—åˆ°<u> ${jsPsych.timelineVariable('SDR')} </u>å…ƒ`
                    return html;
                },
                function () {
                    var html =
                        `ä»¥ <b>å¹´è–ª</b> çš„æ–¹å¼ç»“ç®—<br/>æ¯å¹´å¯ä»¥å¾—åˆ°<u> ${jsPsych.timelineVariable('LDR')} </u>å…ƒ`
                    return html
                },
            ],
            button_html: "<button class='jspsych-btn-td' name='td-btn' disabled>%choice%</button>",
            data: {
                'order': jsPsych.timelineVariable('order')
            },
            on_load: function () {
                setTimeout(function () {
                    $('button[name="td-btn"]').removeAttr('disabled');
                }, 500);
            },
        }, ],
        timeline_variables: [{
                SDR: '202',
                LDR: '78000',
                order: 'DY_1'
            },
            {
                SDR: '82',
                LDR: '96000',
                order: 'DY_2'
            },
            {
                SDR: '31',
                LDR: '36000',
                order: 'DY_3'
            },
            {
                SDR: '4',
                LDR: '119988',
                order: 'DY_4'
            },
            {
                SDR: '6',
                LDR: '36000',
                order: 'DY_5'
            },
            {
                SDR: '229',
                LDR: '95988',
                order: 'DY_6'
            },
            {
                SDR: '4',
                LDR: '48000',
                order: 'DY_7'
            },
            {
                SDR: '6',
                LDR: '78000',
                order: 'DY_8'
            },
            {
                SDR: '280',
                LDR: '108000',
                order: 'DY_9'
            },
            {
                SDR: '52',
                LDR: '60000',
                order: 'DY_10'
            },
            {
                SDR: '2',
                LDR: '59988',
                order: 'DY_11'
            },
            {
                SDR: '193',
                LDR: '96000',
                order: 'DY_12'
            },
            {
                SDR: '124',
                LDR: '48000',
                order: 'DY_13'
            },
            {
                SDR: '10',
                LDR: '60000',
                order: 'DY_14'
            },
            {
                SDR: '172',
                LDR: '119988',
                order: 'DY_15'
            },
            {
                SDR: '138',
                LDR: '95988',
                order: 'DY_16'
            },
            {
                SDR: '287',
                LDR: '119988',
                order: 'DY_17'
            },
            {
                SDR: '19',
                LDR: '48000',
                order: 'DY_18'
            },
            {
                SDR: '8',
                LDR: '108000',
                order: 'DY_19'
            },
            {
                SDR: '143',
                LDR: '59988',
                order: 'DY_20'
            },
            {
                SDR: '31',
                LDR: '78000',
                order: 'DY_21'
            },
            {
                SDR: '86',
                LDR: '59988',
                order: 'DY_22'
            },
            {
                SDR: '16',
                LDR: '96000',
                order: 'DY_23'
            },
            {
                SDR: '120',
                LDR: '60000',
                order: 'DY_24'
            },
            {
                SDR: '43',
                LDR: '108000',
                order: 'DY_25'
            },
            {
                SDR: '72',
                LDR: '36000',
                order: 'DY_26'
            },
            {
                SDR: '3',
                LDR: '95988',
                order: 'DY_27'
            },
        ],
    };

    var month_year_trails = {
        timeline: [{
            type: jsPsychHtmlButtonResponse,
            stimulus: "<h2>è¯·æƒ³è±¡ä¸€ä¸‹ä½ æœ‰ä¸€ä»½å·¥ä½œï¼Œè¿™ä»½å·¥ä½œçš„å·¥èµ„æœ‰ä¸¤ç§ç»“ç®—æ–¹å¼ï¼Œä½ ä¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h2><br/>",
            choices: [function () {
                    var html =
                        `ä»¥ <b>æœˆè–ª</b> çš„æ–¹å¼ç»“ç®—<br/>æ¯æœˆå¯ä»¥å¾—åˆ°<u> ${jsPsych.timelineVariable('SDR')} </u>å…ƒ`
                    return html;
                },
                function () {
                    var html =
                        `ä»¥ <b>å¹´è–ª</b> çš„æ–¹å¼ç»“ç®—<br/>æ¯å¹´å¯ä»¥å¾—åˆ°<u> ${jsPsych.timelineVariable('LDR')} </u>å…ƒ`
                    return html
                },
            ],
            button_html: "<button class='jspsych-btn-td' name='td-btn' disabled>%choice%</button>",
            data: {
                'order': jsPsych.timelineVariable('order')
            },
            on_load: function () {
                setTimeout(function () {
                    $('button[name="td-btn"]').removeAttr('disabled');
                }, 500);
            },
        }, ],
        timeline_variables: [{
                SDR: '6174',
                LDR: '78000',
                order: 'MY_1'
            },
            {
                SDR: '2685',
                LDR: '96000',
                order: 'MY_2'
            },
            {
                SDR: '1007',
                LDR: '36000',
                order: 'MY_3'
            },
            {
                SDR: '120',
                LDR: '119988',
                order: 'MY_4'
            },
            {
                SDR: '206',
                LDR: '36000',
                order: 'MY_5'
            },
            {
                SDR: '7066',
                LDR: '95988',
                order: 'MY_6'
            },
            {
                SDR: '118',
                LDR: '48000',
                order: 'MY_7'
            },
            {
                SDR: '191',
                LDR: '78000',
                order: 'MY_8'
            },
            {
                SDR: '8549',
                LDR: '108000',
                order: 'MY_9'
            },
            {
                SDR: '1678',
                LDR: '60000',
                order: 'MY_10'
            },
            {
                SDR: '60',
                LDR: '59988',
                order: 'MY_11'
            },
            {
                SDR: '6015',
                LDR: '96000',
                order: 'MY_12'
            },
            {
                SDR: '3799',
                LDR: '48000',
                order: 'MY_13'
            },
            {
                SDR: '344',
                LDR: '60000',
                order: 'MY_14'
            },
            {
                SDR: '5479',
                LDR: '119988',
                order: 'MY_15'
            },
            {
                SDR: '4383',
                LDR: '95988',
                order: 'MY_16'
            },
            {
                SDR: '8833',
                LDR: '119988',
                order: 'MY_17'
            },
            {
                SDR: '637',
                LDR: '48000',
                order: 'MY_18'
            },
            {
                SDR: '265',
                LDR: '108000',
                order: 'MY_19'
            },
            {
                SDR: '4416',
                LDR: '59988',
                order: 'MY_20'
            },
            {
                SDR: '1035',
                LDR: '78000',
                order: 'MY_21'
            },
            {
                SDR: '2739',
                LDR: '59988',
                order: 'MY_22'
            },
            {
                SDR: '551',
                LDR: '96000',
                order: 'MY_23'
            },
            {
                SDR: '3759',
                LDR: '60000',
                order: 'MY_24'
            },
            {
                SDR: '1433',
                LDR: '108000',
                order: 'MY_25'
            },
            {
                SDR: '2256',
                LDR: '36000',
                order: 'MY_26'
            },
            {
                SDR: '96',
                LDR: '95988',
                order: 'MY_27'
            },
        ],
    };

    let trails3 = shuffle([day_month_trails, day_year_trails, month_year_trails])
    trails3.splice(1, 0, break_time)
    trails3.splice(3, 0, break_time)

    var node2 = {
        timeline: trails3,
    }
    timeline.push(node2)

    // é‡è¡¨æŒ‡å¯¼è¯­
    var scale_instr = {
        type: jsPsychInstructions,
        pages: [
            "<h1>ç¬¬ä¸‰éƒ¨åˆ†</h1><br/>\
            <h2 style='line-height:140%'>\
            æ¥ä¸‹æ¥ä½ ä¼šçœ‹åˆ°å‡ é“é€‰æ‹©é¢˜<br/>\
            è¿™éƒ¨åˆ†æ˜¯æƒ³äº†è§£æ‚¨åœ¨ä¸€äº›æƒ…å†µä¸‹æ€è€ƒé—®é¢˜ä¸è¡ŒåŠ¨çš„æ–¹å¼<br/>\
            ç­”æ¡ˆä¸å­˜åœ¨å¯¹é”™ï¼Œä¸è¦èŠ±å¤ªå¤šæ—¶é—´æ€è€ƒæ¯ä¸ªé—®é¢˜ï¼Œä¹Ÿä¸è¦æ¼é¡¹<br/>\
            å¦‚æœæ‚¨ä¸å¤ªæ¸…æ¥šå¦‚ä½•å›ç­”ï¼Œè¯·å°½é‡ä¼°è®¡</h2>\
            <h3 style='color:gray'><å¦‚æœå‡†å¤‡å¥½äº†è¯·ç‚¹å‡»å¼€å§‹></h3>",
        ],
        show_clickable_nav: true,
        allow_backward: false,
        button_label_next: 'å¼€å§‹',
        allow_keys: false,
    };
    timeline.push(scale_instr)

    // æå…‹ç‰¹é‡è¡¨çš„é€‰é¡¹
    var likert_scale_7 = [
        "éå¸¸ä¸åŒæ„",
        "ä¸åŒæ„",
        "æ¯”è¾ƒä¸åŒæ„",
        "ä¸ç¡®å®š",
        "æ¯”è¾ƒåŒæ„",
        "åŒæ„",
        "éå¸¸åŒæ„"
    ];

    // é‡è¡¨
    var Cses_trial = {
        type: jsPsychSurveyLikert,
        preamble: "<span style='font-size:23px; line-height:120%; font-weight:600'>ã€ä½œç­”æ—¶ï¼Œè¯·æ‚¨å›æƒ³ä¸€ä¸‹ä½ 10å²ä¹‹å‰çš„ç”Ÿæ´»ã€‚<br/>\
                è¿™æ®µæ—¶é—´åŒ…æ‹¬å­¦å‰ç­ã€å¹¼å„¿å›­å’Œå°å­¦çš„å‰å‡ å¹´æ˜¯å¦ç¬¦åˆè¿™äº›é™ˆè¿°ã€‘</span>",
        questions: [{
                prompt: "<h2>1. ç«¥å¹´æ—¶å®¶åº­æœ‰è¶³å¤Ÿå¤šçš„é’±æ¥æ»¡è¶³å„ç§éœ€æ±‚</h2>",
                name: 'Cses_1',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: "<h2>2. ç«¥å¹´æ—¶, çˆ¶æ¯åœ¨å½“åœ°æœ‰è¾ƒé«˜çš„ç¤¾ä¼šåœ°ä½</h2>",
                name: 'Cses_2',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>3. ç›¸æ¯”äºç«¥å¹´çš„ä¼™ä¼´, æˆ‘çš„ç”Ÿæ´»æ›´åŠ å¯Œè¶³</h2>',
                name: 'Cses_3',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>4. æˆ‘æˆé•¿åœ¨ä¸€ä¸ªå¯Œè¶³ç¨³å®šçš„å°åŒºç¯å¢ƒä¸­</h2>',
                name: 'Cses_4',
                labels: likert_scale_7,
                required: true
            },
        ],
        button_label: 'ä¸‹ä¸€é¡µ',
        scale_width: 750,
    };
    timeline.push(Cses_trial)

    var Unpre_trial = {
        type: jsPsychSurveyLikert,
        preamble: "<br/><span style='font-size:23px; line-height:120%; font-weight:600'>\
                ã€ä½œç­”æ—¶ï¼Œè¯·æ‚¨å›æƒ³ä¸€ä¸‹ä½ 10å²ä¹‹å‰çš„ç”Ÿæ´»ã€‚<br/>\
                è¿™æ®µæ—¶é—´åŒ…æ‹¬å­¦å‰ç­ã€å¹¼å„¿å›­å’Œå°å­¦çš„å‰å‡ å¹´æ˜¯å¦ç¬¦åˆè¿™äº›é™ˆè¿°ã€‘</span>",
        questions: [{
                prompt: '<h2>1. æˆ‘çš„å®¶åº­ç”Ÿæ´»æ¯å¤©éƒ½ä¸ä¸€è‡´ä¸”æ— æ³•é¢„æµ‹</h2>',
                name: 'Unpre_1',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>2. åœ¨æˆ‘ç«¥å¹´æ—¶æœŸï¼Œçˆ¶æ¯ç»å¸¸ä¸å¯¹æ–¹æˆ–å…¶ä»–äººå‘ç”Ÿæ‰“æ¶æˆ–äº‰åµ</h2>',
                name: 'Unpre_2',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>3. åœ¨æˆ‘ç«¥å¹´æ—¶æœŸï¼Œçˆ¶æ¯å¾ˆéš¾ç¦»å©šæˆ–åˆ†å±…</h2>',
                name: 'Unpre_3',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>4. åˆ«äººå¸¸å¸¸å¾ˆéšæ„åœ°è¿›å‡ºæˆ‘å®¶</h2>',
                name: 'Unpre_4',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>5. æ¯å¤©å½“æˆ‘é†’æ¥ï¼Œæˆ‘å¸¸å¸¸ä¸çŸ¥é“é‚£å¤©å®¶é‡Œä¼šå‘ç”Ÿä»€ä¹ˆ</h2>',
                name: 'Unpre_5',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>6. æˆ‘å®¶çš„æ°›å›´ç»å¸¸å¾ˆç´§å¼ ï¼Œä»¤äººä¸å®‰</h2>',
                name: 'Unpre_6',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>7. æˆ‘å®¶çš„æƒ…å†µç»å¸¸æ˜¯æ··ä¹±çš„</h2>',
                name: 'Unpre_7',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>8. æˆ‘å¾ˆéš¾çŸ¥é“æˆ‘çš„çˆ¶æ¯æˆ–å®¶é‡Œçš„å…¶ä»–äººä¼šè¯´ä»€ä¹ˆåšä»€ä¹ˆ</h2>',
                name: 'Unpre_8',
                labels: likert_scale_7,
                required: true
            },
        ],
        button_label: 'ä¸‹ä¸€é¡µ',
        scale_width: 750,
    };
    timeline.push(Unpre_trial)

    var Sses_trail = {
        type: jsPsychSurveyLikert,
        preamble: "<br/><span style='font-size:23px; line-height:120%; font-weight:600'>\
            ã€æŠŠè¿™ä¸ªæ¢¯å­æƒ³è±¡æˆäººä»¬åœ¨ç¤¾ä¼šä¸­æ‰€å¤„çš„ä½ç½®;<br/>\
                åœ¨æ¢¯å­çš„é¡¶ç«¯æ˜¯ç”Ÿæ´»æœ€å¥½çš„äººï¼Œé‚£äº›æ‹¥æœ‰æœ€å¤šçš„é’±ï¼Œæœ€å¤šçš„æ•™è‚²ï¼Œå’Œæœ€å¥½çš„å·¥ä½œ;<br/>\
                åº•å±‚æ˜¯é‚£äº›æœ€ç©·çš„äººï¼Œé‚£äº›æ‹¥æœ‰æœ€å°‘çš„é’±ï¼Œæœ€å°‘çš„æ•™è‚²ï¼Œå’Œæ²¡æœ‰å·¥ä½œçš„äººã€‘</span><br/>\
                <img src='ladder.png' width=280>",
        scale_width: 750,
        questions: [{
                prompt: "<span style='font-size:23px; font-weight:600'>è¯·é€‰å‡ºæœ€èƒ½ä»£è¡¨ä½  <span style='color:red'>ç«¥å¹´</span> æ‰€å¤„ä½ç½®çš„å±‚çº§</span>",
                labels: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"],
                required: true,
                name: "Csses",
            },
            {
                prompt: "<span style='font-size:23px; font-weight:600'>è¯·é€‰å‡ºæœ€èƒ½ä»£è¡¨ä½  <span style='color:red'>ç°åœ¨</span> æ‰€å¤„ä½ç½®çš„å±‚çº§</span>",
                labels: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"],
                required: true,
                name: "Psses",
            }
        ],
        button_label: 'ä¸‹ä¸€é¡µ'
    };
    timeline.push(Sses_trail)

    var Pses_trial = {
        type: jsPsychSurveyLikert,
        preamble: "<span style='font-size:25px; font-weight:600'>\
            ã€è¯·é€‰æ‹©å’Œä½ ç°åœ¨æœ€ç¬¦åˆçš„é€‰é¡¹ã€‘</span><br/>",
        questions: [{
                prompt: '<h2>1. æˆ‘æœ‰è¶³å¤Ÿçš„é’±ä¹°æˆ‘æƒ³è¦çš„ä¸œè¥¿</h2>',
                name: 'Pses_1',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>2. æˆ‘ä¸å¤ªéœ€è¦æ‹…å¿ƒæ”¯ä»˜æˆ‘çš„è´¦å•</h2>',
                name: 'Pses_2',
                labels: likert_scale_7,
                required: true
            },
            {
                prompt: '<h2>3. æˆ‘æƒ³æˆ‘ä»¥åä¸ç”¨å¤ªæ‹…å¿ƒé’±äº†</h2>',
                name: 'Pses_3',
                labels: likert_scale_7,
                required: true
            },
        ],
        button_label: 'ä¸‹ä¸€é¡µ',
        scale_width: 750,
    };
    timeline.push(Pses_trial)

    var Work_trail = {
        type: jsPsychSurveyHtmlForm,
        preamble: "<span style='font-size:23px; line-height:120%; font-weight:600'>ã€è¯·åœ¨ä¸‹é¢å¡«å…¥ä½ å¿ƒç›®ä¸­çš„æ•°å€¼ã€‘</span><br/><br/>",
        html: "<div id='groupform' class='work'>\
                    <label for='work_1'>1. å¯¹äºæˆ‘çš„ç¬¬ä¸€ä»½å·¥ä½œï¼Œæœ€æœŸæœ›è·å¾—ä¸‹é¢å“ªç§è–ªèµ„ç»“ç®—æ–¹å¼</label>\
                </div>\
                <div id='groupform' class='work'>\
                    <input type='radio' id='pay_day' name='work_1' value='1'required/>\
                    <label for='pay_day'>æ—¥è–ª</label>\
                    <input type='radio' id='pay_month' name='work_1' value='2'required/>\
                    <label for='pay_month'>æœˆè–ª</label>\
                    <input type='radio' id='pay_year' name='work_1' value='3'required/>\
                    <label for='pay_year'>å¹´è–ª</label>\
                </div>\
            <div id='groupform' class='work'>\
                    <label>2. ä»¥æœˆè–ªä¸ºä¾‹ï¼Œå¯¹äºæˆ‘çš„ç¬¬ä¸€ä»½å·¥ä½œï¼Œæœ€ä½å¯ä»¥æ¥å—çš„èµ·å§‹è–ªèµ„ä¸º\
                    <input type='number' id='work_2' name='work_2' required></input> å…ƒ</label>\
                </div>\
            <div id='groupform' class='work'>\
                <label>3. ä»¥æœˆè–ªä¸ºä¾‹ï¼Œå¯¹äºæˆ‘çš„ç¬¬ä¸€ä»½å·¥ä½œï¼Œç†æƒ³çš„èµ·å§‹è–ªèµ„æ°´å¹³ä¸º\
                <input type='number' id='work_3' name='work_3' required></input> å…ƒ</label>\
            </div>\
            <div id='groupform' class='work'>\
                <label>4. ç†æƒ³çš„æ¯æ—¥å·¥ä½œæ—¶é—´ä¸º\
                <input type='number' id='work_4' name='work_4' required></input> å°æ—¶</label>\
            </div>\
            <div id='groupform' class='work'>\
                <label>5. æœ€å¤§å¯æ¥å—çš„æ¯æ—¥å·¥ä½œæ—¶é—´ä¸º\
                <input type='number' id='work_5' name='work_5' required></input> å°æ—¶</label>\
            </div>\
            <div id='groupform' class='work'>\
                <label>6. ç†æƒ³çš„æ¯æœˆå·¥ä½œå¤©æ•°ä¸º\
                <input type='number' id='work_6' name='work_6' required></input> å¤©</label>\
            </div>\
            <div id='groupform' class='work'>\
                <label>7. æœ€å¤§å¯æ¥å—çš„æ¯æœˆå·¥ä½œå¤©æ•°ä¸º\
                <input type='number' id='work_7' name='work_7' required></input> å¤©</label>\
            </div>\
            <div id='groupform' class='work'>\
                <label>8. ç†æƒ³çš„æ¯å¹´å·¥ä½œå¤©æ•°ä¸º\
                <input type='number' id='work_8' name='work_8' required></input> å¤©</label>\
            </div>\
            <div id='groupform' class='work'>\
                <label>9. æœ€å¤§å¯æ¥å—çš„æ¯å¹´å·¥ä½œå¤©æ•°ä¸º\
                <input type='number' id='work_9' name='work_9' required></input> å¤©</label>\
            </div>\
            ",
        button_label: 'ä¸‹ä¸€é¡µ',
        autofocus: 'test-resp-box',
    };
    timeline.push(Work_trail);

    var Fertility_trial_1 = {
        type: jsPsychSurveyLikert,
        preamble: "",
        questions: [{
                prompt: '<h2>1. ä½ å–œæ¬¢å­©å­çš„ç¨‹åº¦</h2>',
                name: 'Fer_1',
                labels: ['ä¸€ç‚¹ä¹Ÿä¸å–œæ¬¢','æ¯”è¾ƒä¸å–œæ¬¢','ä¸ç¡®å®š','æ¯”è¾ƒå–œæ¬¢','éå¸¸å–œæ¬¢'],
                required: true
            },
            {
                prompt: '<h2>2. ä½ ç”Ÿè‚²æ„æ„¿çš„å¼ºçƒˆç¨‹åº¦</h2>',
                name: 'Fer_2',
                labels: ['ä¸€ç‚¹ä¹Ÿä¸å¼ºçƒˆ','æ¯”è¾ƒä¸å¼ºçƒˆ','ä¸ç¡®å®š','æ¯”è¾ƒå¼ºçƒˆ','éå¸¸å¼ºçƒˆ'],
                required: true
            },
            {
                prompt: '<h2>3. æ‚¨æœªæ¥æ˜¯å¦æƒ³è¦å­©å­</h2>',
                name: 'Fer_3',
                labels: ['ä¸€ç‚¹ä¹Ÿä¸æƒ³','æ¯”è¾ƒä¸æƒ³','ä¸ç¡®å®š','æ¯”è¾ƒæƒ³','éå¸¸æƒ³'],
                required: true
            },
        ],
        button_label: 'ä¸‹ä¸€é¡µ',
        scale_width: 750,
    };
    timeline.push(Fertility_trial_1);

    var Fertility_trial_2 = {
        type: jsPsychSurveyText,
        questions:[
            {prompt:'<h2>4. åœ¨æ— ç”Ÿè‚²æ”¿ç­–å’Œå…¶ä»–æƒ…å†µé™åˆ¶çš„æƒ…å†µä¸‹ï¼Œæ‚¨æœŸæœ›è‡ªå·±æœªæ¥æœ‰å‡ ä¸ªå­©å­?</h2>',name:'Fer_4',placeholder:'å¦‚æœä¸æƒ³è¦å¯ä»¥å¡«0',required:true,rows:3,width:60},
            {prompt:'<h2>5. å¦‚æœå¿…é¡»è¦å­©å­çš„è¯ï¼Œæ‚¨é¢„è®¡å¯èƒ½ä¼šåœ¨å“ªä¸ªå¹´é¾„è¦ç¬¬ä¸€ä¸ªå­©å­?</h2>',name:'Fer_5',required:true,rows:3,width:60},
        ],
        button_label: 'ä¸‹ä¸€é¡µ',
    };
    timeline.push(Fertility_trial_2);

    var likert_scale_5 = [
        "ä»æ— ",
        "æå°‘",
        "æœ‰æ—¶",
        "ç»å¸¸",
        "æ€»æ˜¯",
    ];

    var Impul_trial = {
        type: jsPsychSurveyLikert,
        preamble: "<br/>",
        questions: [{
                prompt: '<h2>1. æˆ‘è®¤çœŸå®‰æ’æ¯ä¸€ä»¶äº‹</h2>',
                name: 'Imp_1',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>2. æˆ‘åšäº‹ä¸åŠ æ€è€ƒ</h2>',
                name: 'Imp_2',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>3. é‡åˆ°é—®é¢˜æ—¶æˆ‘èƒ½æƒ³å‡ºå¥½åŠæ³•</h2>',
                name: 'Imp_3',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>4. æˆ‘å¯¹æœªæ¥æœ‰è®¡åˆ’</h2>',
                name: 'Imp_4',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>5. æˆ‘ä¸èƒ½å¾ˆå¥½çš„æ§åˆ¶è‡ªå·±çš„è¡Œä¸º</h2>',
                name: 'Imp_5',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>6. å¿…è¦æ—¶æˆ‘èƒ½å¤Ÿé•¿æ—¶é—´è€ƒè™‘ä¸€ä¸ªé—®é¢˜</h2>',
                name: 'Imp_6',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>7. æˆ‘æœ‰è§„å¾‹åœ°å­˜é’±æˆ–æ”’é’±</h2>',
                name: 'Imp_7',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>8. æˆ‘éš¾ä»¥æ§åˆ¶è‡ªå·±çš„è„¾æ°”</h2>',
                name: 'Imp_8',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>9. æˆ‘èƒ½ä»ä¸åŒçš„è§’åº¦è€ƒè™‘é—®é¢˜</h2>',
                name: 'Imp_9',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>10. æˆ‘å¯¹å·¥ä½œå’Œè·å¾—çš„æ”¶å…¥æœ‰è®¡åˆ’</h2>',
                name: 'Imp_10',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>11. æˆ‘è¯´è¯ä¸åŠ æ€è€ƒ</h2>',
                name: 'Imp_11',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>12. é‡åˆ°é—®é¢˜æ—¶æˆ‘å–œæ¬¢æ…¢æ…¢è€ƒè™‘</h2>',
                name: 'Imp_12',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>13. æˆ‘åšäº‹æ¯”è¾ƒç†æ™º</h2>',
                name: 'Imp_13',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>14. æˆ‘æ¿€åŠ¨æ—¶éš¾ä»¥æ§åˆ¶è‡ªå·±çš„è¡Œä¸º</h2>',
                name: 'Imp_14',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>15. é‡åˆ°é—®é¢˜æ—¶æˆ‘å¯ä»¥è€å¿ƒåœ°æ€è€ƒè§£å†³é—®é¢˜çš„åŠæ³•</h2>',
                name: 'Imp_15',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>16. æˆ‘æœ‰è§„å¾‹çš„å®‰æ’é¥®é£Ÿèµ·å±…</h2>',
                name: 'Imp_16',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>17. æˆ‘å®¹æ˜“å†²åŠ¨è¡Œäº‹</h2>',
                name: 'Imp_17',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>18. åšå†³å®šå‰ï¼Œæˆ‘å–œæ¬¢ä»”ç»†è€ƒè™‘å¾—å¤±</h2>',
                name: 'Imp_18',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>19. æˆ‘ç¦»å¼€å®¶ä¹‹å‰æŠŠäº‹æƒ…éƒ½å®‰æ’å¥½</h2>',
                name: 'Imp_19',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>20. æˆ‘ä¸è€ƒè™‘åæœè€Œç«‹å³è¡ŒåŠ¨</h2>',
                name: 'Imp_20',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>21. æˆ‘å†·é™åœ°æ€è€ƒé—®é¢˜</h2>',
                name: 'Imp_21',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>22. æˆ‘åšäº‹æ—¶èƒ½æŒ‰è®¡åˆ’å®Œæˆ</h2>',
                name: 'Imp_22',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>23. æˆ‘å®¹æ˜“å†²åŠ¨æ€§è´­ç‰©</h2>',
                name: 'Imp_23',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>24. é‡åˆ°éš¾é¢˜æ—¶æˆ‘ä¸ä¼šè½»æ˜“ä¸‹ç»“è®º</h2>',
                name: 'Imp_24',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>25. æˆ‘èŠ±é’±æœ‰è®¡åˆ’</h2>',
                name: 'Imp_25',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>26. æˆ‘åšäº‹ååˆ†è½æ’</h2>',
                name: 'Imp_26',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>27. æˆ‘æ€è€ƒé—®é¢˜æ—¶èƒ½é›†ä¸­æ³¨æ„åŠ›</h2>',
                name: 'Imp_27',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>28. æˆ‘å¾ˆçœ‹é‡å¯¹æœªæ¥çš„å®‰æ’</h2>',
                name: 'Imp_28',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>29. æˆ‘æƒ³åˆ°ä»€ä¹ˆå°±é©¬ä¸Šå»åš</h2>',
                name: 'Imp_29',
                labels: likert_scale_5,
                required: true
            },
            {
                prompt: '<h2>30. æˆ‘å®¹æ˜“æƒ³å‡ºæ–°çš„åŠæ³•æ¥è§£å†³é‡åˆ°çš„å›°éš¾</h2>',
                name: 'Imp_30',
                labels: likert_scale_5,
                required: true
            },
        ],
        button_label: 'å®Œæˆ',
        scale_width: 750,
    };
    timeline.push(Impul_trial)
    
    var exit_fullscreen = {
        type: jsPsychFullscreen,
        fullscreen_mode: false,
        delay_after: 0
    };
    timeline.push(exit_fullscreen)

    // const simulation_options = {
    //     default: {
    //         data: {
    //         rt: 1000
    //         }
    //     }
    // }

    jsPsych.run(timeline)
    // jsPsych.simulate(timeline,'visual',simulation_options);
</script>

</html>