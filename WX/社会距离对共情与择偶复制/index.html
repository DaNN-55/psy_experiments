<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>æ‹©å¶å¤åˆ¶å®éªŒ</title>
        <link href="css/jspsych.css" rel="stylesheet" type="text/css" />
        <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="css/style.css" rel="stylesheet" type="text/css" />

        <script src="js/jspsych.js"></script>
        <script src="js/plugin-browser-check.js"></script>
        <script src="js/plugin-call-function.js"></script>
        <script src="js/plugin-fullscreen.js"></script>
        <script src="js/plugin-instructions.js"></script>
        <script src="js/plugin-survey-html-form.js"></script>
        <script src="js/plugin-html-keyboard-response.js"></script>
        <script src="js/plugin-html-button-response.js"></script>
    </head>

    <body></body>

    <script>
        const jsPsych = initJsPsych({
            on_finish: function() {
                jsPsych.data.displayData('json')
            }
          }
        );

        var brower = {
            type: jsPsychBrowserCheck,
            minimum_width: 1000,
            minimum_height: 600,
            window_resize_message:'ä½ çš„æµè§ˆå™¨çª—å£è¿‡å°ï¼Œè¯·ä½¿ç”¨ç”µè„‘ä½œç­”ï¼Œæ„Ÿè°¢é…åˆã€‚<br/>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å³å¯ç»“æŸå®éªŒã€‚',
            resize_fail_button_text: 'ç»“æŸå®éªŒ',
            exclusion_message: () => { return 'ä½ çš„æ˜¾ç¤ºçª—å£è¿‡å°ï¼Œè¯·è°ƒå¤§æ˜¾ç¤ºçª—å£æˆ–è€…åˆ‡æ¢ç”µè„‘ä½œç­”ã€‚' }
        };

        var enter_fullscreen = {
            type: jsPsychFullscreen,
            message: `
                <p style="font: 16pt å¾®è½¯é›…é»‘; text-align: left; line-height: 1.6em">
                <b>
                æµ‹éªŒå°†åœ¨ä¸€ä¸ªã€Œå…¨å±é¡µé¢ã€å¼€å§‹ï¼Œä¸ºç¡®ä¿æœ€ä½³æ•ˆæœï¼Œè¯·ä½ ï¼š<br/>
                ï¼ˆ1ï¼‰åœ¨ç”µè„‘ä¸Šè¿›è¡Œæµ‹éªŒï¼Œå¹¶ä½¿ç”¨ä¸»æµæµè§ˆå™¨æ‰“å¼€æœ¬ç½‘é¡µ<br/>
                &emsp;&emsp;ï¼ˆChromeã€Edgeã€Firefoxã€Safariç­‰ï¼Œä¸è¦ç”¨IEï¼‰<br/>
                ï¼ˆ2ï¼‰å…³æ‰ç”µè„‘ä¸Šå…¶ä»–æ­£åœ¨è¿è¡Œçš„ç¨‹åºæˆ–å°†å…¶æœ€å°åŒ–<br/>
                ï¼ˆ3ï¼‰å°†æ‰‹æœºè°ƒè‡³é™éŸ³ï¼Œå¹¶å°½å¯èƒ½å‡å°‘ç¯å¢ƒå™ªéŸ³å¹²æ‰°<br/>
                ï¼ˆ4ï¼‰åœ¨æµ‹éªŒè¿‡ç¨‹ä¸­ä¸è¦é€€å‡ºå…¨å±<br/>
                ï¼ˆ5ï¼‰åŠ¡å¿…è®¤çœŸä½œç­”<br/><br/>
                </b>
                å¦‚æœä½ åŒæ„å‚ä¸ï¼Œå¹¶ä¸”æ¸…æ¥šç†è§£äº†ä¸Šè¿°è¦æ±‚ï¼Œè¯·ç‚¹å‡»å¼€å§‹ï¼š
                </p>`,
            button_label:'ç‚¹å‡»è¿™é‡Œå…¨å±å¼€å§‹',
            fullscreen_mode: true,
            delay_after: 100
        }

        var set_style = {
            type: jsPsychCallFunction,
            func: function () {
                document.body.style.backgroundColor = 'black' // background color
                document.body.style.color = 'white' // font color
                document.body.style.fontFamily = 'å¾®è½¯é›…é»‘'
                document.body.style.cursor = 'default' // 'default', 'none', 'wait', ...
                document.body.onselectstart = function () { return false } // ç¦æ­¢é€‰ä¸­æ–‡å­— <body oncontextmenu="return false">
                document.body.oncontextmenu = function () { return false } // ç¦ç”¨é¼ æ ‡å³é”® <body onselectstart="return false">
                document.onkeydown = function () {
                    // å±è”½é”®ç›˜æŒ‰é”® (https://www.bejson.com/othertools/keycodes/)
                    if ((event.keyCode in { 27: 'Esc', 116: 'F5', 123: 'F12' }) ||
                        (event.ctrlKey && event.keyCode in { 85: 'U' })
                    ) {
                        return false
                    }
                }
            },
        }

        var agreement = {
            type: jsPsychInstructions,
            pages: [
                `<div class='cover'>
                    <div class='cover-title'>
                        æ¬¢è¿å‚ä¸<br/>æ‹©å¶å¤åˆ¶å®éªŒ
                    </div>
                    <div class='cover-text'>
                        <p></p>
                        <p>æˆ‘ä»¬æ‰¿è¯ºæ‰€æœ‰æ•°æ®ä»…ç”¨ä½œå­¦æœ¯ç ”ç©¶ï¼Œä¸ä¼šæ³„éœ²å…³äºæ‚¨çš„ä»»ä½•éšç§ï¼Œå› æ­¤ç­”é¢˜è¿‡ç¨‹ä¸­è¯·åŠ¡å¿…è®¤çœŸä½œç­”ã€‚</p>
                    </div>
                    <input class="form-check-input" type="checkbox" id='checkbox'>
                    <label class="form-check-label">
                        æˆ‘å·²ç†è§£ä¸Šè¿°å†…å®¹ï¼ŒåŒæ„å¼€å§‹è¯„æµ‹
                    </label>
                </div>`,
            ],
            show_clickable_nav: true,
            allow_backward: false,
            button_label_next: 'å¼€å§‹',
            allow_keys: false,
            on_load: function () {
                var submitBtn = document.getElementById('jspsych-instructions-next');
                submitBtn.disabled = true;
                var box = document.getElementById('checkbox');
                box.addEventListener("change", function(){
                    if (box.checked===true) {
                        submitBtn.disabled=false;
                    }else{
                        submitBtn.disabled=true;
                    }
                })
            }
        };

        var info = {
            type: jsPsychSurveyHtmlForm,
            preamble: "",
            html: ` <p class='h2' style='color:black'>åŸºæœ¬ä¿¡æ¯</p>
                        <div class='row'>
                            <div class='col auto'>
                                <div class='input-group mb-2'>
                                    <span class='input-group-text'>å§“å</span>
                                    <input class='form-control' type='text' name='name' required/>
                                </div>
                            </div>

                            <div class='col auto'>
                                <div class='input-group mb-2'>
                                    <span class='input-group-text'>æ€§åˆ«</span>
                                    <select class='form-select' name='gender' required/>        
                                        <option value=''></option>
                                        <option value='1'>ç”·</option>
                                        <option value='0'>å¥³</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class='row'>
                            <div class='col'>
                                <div class='input-group mb-2'>
                                    <span class='input-group-text'>å¹´é¾„</span>
                                    <input class='form-control' type='number' name='age' required/>
                                </div>
                            </div>

                            <div class='col'>
                                <div class='input-group mb-2'>
                                    <span class='input-group-text'>å¹´çº§</span>
                                    <select class='form-select' name='grade' required/>        
                                        <option value=''></option>
                                        <option value='0'>æœ¬ç§‘ç”Ÿ</option>
                                        <option value='1'>ç ”ç©¶ç”Ÿ</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class='row'>
                            <div class='col'>
                                <div class='input-group mb-2'>
                                    <span class='input-group-text'>æ€§å–å‘</span>
                                    <select class='form-select' name='sex' required/>
                                        <option value=''></option>
                                        <option value='0'>å¼‚æ€§æ‹</option>
                                        <option value='1'>åŒæ€§æ‹</option>
                                    </select>
                                </div>
                            </div>

                            <div class='col'>
                                <div class='input-group mb-2'>
                                    <span class='input-group-text'>ç›®å‰çŠ¶æ€</span>
                                    <select class='form-select' name='status' required/>        
                                        <option value=''></option>
                                        <option value='0'>å•èº«</option>
                                        <option value='1'>æ‹çˆ±ä¸­</option>
                                        <option value='2'>å·²å©š</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class='row'>
                            <div class='col'>
                                <div class='input-group mb-2'>
                                    <span class='input-group-text'>çˆ¶æ¯æ„Ÿæƒ…</span>
                                    <select class='form-select' name='parents' required>
                                    <option value=''></option>
                                    <option value='0'>ç¦»å¼‚</option>
                                    <option value='1'>å¾ˆå·®</option>
                                    <option value='2'>ä¸€èˆ¬</option>
                                    <option value='3'>å¹¸ç¦</option>
                                    </select>
                                </div>
                            </div>

                            <div class='col'>
                                <div class='input-group mb-2'>
                                    <span class='input-group-text'>æ¥æºåœ°</span>
                                    <select class='form-select' name='home' required>
                                    <option value=''></option>
                                    <option value='0'>å†œæ‘æˆ·å£</option>
                                    <option value='1'>åŸé•‡æˆ·å£</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class='row'>
                            <div class='col'>
                                <div class='input-group mb-2'>
                                    <span class='input-group-text'>ç«¥å¹´çš„ä¸»è¦æŠšå…»è€…</span>
                                    <select class='form-select' name='babycare' required/>        
                                        <option value=''></option>
                                        <option value='0'>çˆ¸çˆ¸å¦ˆå¦ˆ</option>
                                        <option value='1'>çˆ·çˆ·å¥¶å¥¶</option>
                                        <option value='2'>å¤–å…¬å¤–å©†</option>
                                        <option value='3'>ä¿å§†é˜¿å§¨</option>
                                        <option value='4'>å…¶ä»–äº²æˆš</option>
                                    </select>
                                </div>
                            </div>
                        </div>`,
            button_label: 'æäº¤',
            dataAsArray: true,
            autofocus: 'test-resp-box',
            data:{task:'info'},
        };

        var instruction = {
            type: jsPsychInstructions,
            pages: [
                `<div class='cover'>
                    <div class='h1'>æŒ‡å¯¼è¯­</div>
                    <div class='cover-text'>
                        <p>
                            é¦–å…ˆï¼Œå±å¹•ä¸­å¤®ä¼šå‡ºç°â€œ+â€çš„æ³¨è§†ç‚¹ï¼Œå¾…æ³¨è§†ç‚¹æ¶ˆå¤±ååœ¨åŒæ ·çš„ä½ç½®ä¼šå‡ºç°ä¸€å¼ å¼‚æ€§é¢å­”å›¾ç‰‡ï¼Œ
                            <span class='lighting'>éœ€è¦æ‚¨æ ¹æ®è‡ªå·±çš„å–œå¥½å¯¹å¼‚æ€§é¢å­”çš„å¸å¼•åŠ›è¿›è¡Œ1-9çº§è¯„åˆ†</span>ï¼Œ1ä»£è¡¨å¸å¼•åŠ›éå¸¸å°ï¼Œ9ä»£è¡¨å¸å¼•åŠ›éå¸¸å¤§ï¼Œè¯„åˆ†å®Œæˆåå±å¹•è‡ªåŠ¨è·³åˆ°ä¸‹ä¸€é¡µï¼›
                        </p>
                        <p>
                            ä¸‹ä¸€é¡µå±å¹•ä¸­å¤®ä¼šå‡ºç°ä¸€å¼ å¥³æ€§å‰ªå½±å›¾ç‰‡ï¼ŒåŒæ—¶åœ¨å›¾ç‰‡çš„ä¸Šæ–¹æ ‡æ³¨è¯¥å‰ªå½±äººç‰©å’Œæ‚¨çš„å…³ç³»ä¿¡æ¯ï¼Œ<span class='lighting'>è¯·æ‚¨ä»”ç»†é˜…è¯»ä¿¡æ¯ç„¶åæŒ‰ã€Enterã€‘é”®è·³è½¬åˆ°ä¸‹ä¸€é¡µäº²å¯†å…³ç³»è·ç¦»è¯„ä¼°ç•Œé¢</span>ï¼›
                        </span>
                        <p>
                            è¯„ä¼°å®Œæˆååœ¨å±å¹•ä¸­ä¼šå‘ˆç°æœ€å¼€å§‹å‡ºç°çš„å¼‚æ€§é¢å­”å’Œåˆšåˆšå‡ºç°è¿‡çš„å‰ªå½±é…å¯¹å›¾ç‰‡ï¼Œå¹¶åœ¨ä¸‹æ–¹æ ‡æ³¨ä¸¤äººå…³ç³»çŠ¶æ€ï¼Œ
                            <span class='lighting'>æ‚¨ç†è§£åæŒ‰ã€Enterã€‘é”®åœ¨å±å¹•ä¸­ä¼šå†æ¬¡å‡ºç°åŒä¸€å¼ å¼‚æ€§é¢å­”å›¾ç‰‡ï¼Œè¯·æ‚¨å†æ¬¡å¯¹é¢å­”å¸å¼•åŠ›è¿›è¡Œè¯„åˆ†ã€‚</span>
                        </p>
                    </div>
                    <div class='ready'>
                        <å¦‚æœ‰ä¸æ˜ç™½å¯éšæ—¶è¯¢é—®ä¸»è¯•ï¼Œå¦‚æœå‡†å¤‡å¥½äº†è¯·ç‚¹å‡»å¼€å§‹ğŸ‘‡>
                    </div>
                </div>`,
            ],
            show_clickable_nav: true,
            allow_backward: false,
            button_label_next: 'å¼€å§‹',
            allow_keys: false,
        };

        function main_trial(timeline_variables) {
            var trials = {
                timeline:[
                    {
                        type: jsPsychHtmlKeyboardResponse,
                        stimulus: '+',
                        choices: "NO_KEYS",
                        trial_duration: 500
                    },
                    { 
                        type: jsPsychHtmlButtonResponse,
                        stimulus: function () {
                            var html = `<img src='${jsPsych.timelineVariable('imgs')}'>
                                    <p class='attract'>è¯¥å¼‚æ€§å¯¹æ‚¨æ¥è¯´å¸å¼•åŠ›è¯„åˆ†æ˜¯</p>
                                    <p class='tips'>(1ä»£è¡¨å¸å¼•åŠ›éå¸¸å°ï¼Œ9ä»£è¡¨å¸å¼•åŠ›éå¸¸å¤§)</p>`
                            return html
                        },
                        choices: ['1','2','3','4','5','6','7','8','9'],
                        data:{task:'pre_test',imgs:jsPsych.timelineVariable('imgs')}
                    },
                    {
                        type: jsPsychInstructions,
                        pages: [jsPsych.timelineVariable('cond2')],
                        button_label_next: "ä¸‹ä¸€é¡µ",
                        show_clickable_nav: true,
                        allow_backward: false,
                        on_finish: function (data) {
                            var splitArray = html.split("<span class='lighting'>");
                            var content = splitArray[1].split('</span>')[0];
                            data.task = content
                        }
                    },
                    {
                        type: jsPsychHtmlButtonResponse,
                        stimulus: `<p class='attract'>ä»¥ä¸‹æœ‰ä¸¤ä¸ªåœ†åœˆï¼Œä¸€ä¸ªä»£è¡¨ä½ è‡ªå·±ï¼Œä¸€ä¸ªä»£è¡¨åˆšåˆšä½ æƒ³è±¡ä¸­çš„å¥¹ï¼Œé‡å éƒ¨åˆ†ä»£è¡¨ä½ ä»¬çš„äº²å¯†ç¨‹åº¦ï¼Œ
                                    é‡å éƒ¨åˆ†è¶Šå¤§ä»£è¡¨ä½ ä»¬ä¹‹é—´è¶Šäº²å¯†ï¼Œè¯·é€‰æ‹©ä»¥ä¸‹å“ªä¸ªå¯ä»¥ä»£è¡¨ä½ ä»¬ä¹‹é—´çš„äº²å¯†åº¦</p>
                                    <img src='imgs/distance.png' width=85%>`,
                        choices: ['1','2','3','4','5','6','7'],
                        data:{task:'distance'}
                    },
                    {
                        type: jsPsychInstructions,
                        pages: [
                            function () {
                                var html = `<img src='${jsPsych.timelineVariable('imgs')}'>&nbsp;&nbsp;<img src='imgs/woman.png'>
                                    <p class='attract'>åœ¨ä¸€æ¬¡æ´»åŠ¨ä¸­ä¸¤äººè®¤è¯†ï¼Œ${jsPsych.timelineVariable('cond1')}</p>`
                                return html
                            },],
                        button_label_next: "ä¸‹ä¸€é¡µ",
                        show_clickable_nav: true,
                        allow_backward: false
                    },
                    {
                        type: jsPsychHtmlButtonResponse,
                        stimulus: function () {
                            var html = `<img src='${jsPsych.timelineVariable('imgs')}'>
                                <p class='attract'>è¯¥å¼‚æ€§å¯¹æ‚¨æ¥è¯´å¸å¼•åŠ›è¯„åˆ†æ˜¯</p>
                                <p class='tips'>(1ä»£è¡¨å¸å¼•åŠ›éå¸¸å°ï¼Œ9ä»£è¡¨å¸å¼•åŠ›éå¸¸å¤§)</p>`
                            return html
                        },
                        choices: ['1','2','3','4','5','6','7','8','9'],
                        data:{task:'post_test',imgs:jsPsych.timelineVariable('imgs')}
                    },
                    
                ],
                timeline_variables: timeline_variables,
            }
            return trials
        }

        var cond2 = [
                function () {
                    var html = `<p class='attract'>è¯·æƒ³è±¡å›¾ç‰‡ä¸­çš„äººæ˜¯ä½ çš„ <span class='lighting'>é—ºèœœ</span> ï¼Œ
                                å›å¿†ä½ å’Œå¥¹ä¹‹é—´å‘ç”Ÿçš„å°è±¡æ·±åˆ»çš„äº‹ä»¶ï¼Œå¹¶åœ¨çº¸ä¸Šå†™ä¸‹å¥¹çš„æ˜µç§°æˆ–è€…åå­—</p>
                                <img src='imgs/woman.png'>`
                    return html
                },
                function () {
                    var html = `<p class='attract'>è¯·æƒ³è±¡å›¾ç‰‡ä¸­çš„äººæ˜¯ä½  <span class='lighting'>å–œæ¬¢çš„æ˜æ˜Ÿ/å°è¯´äººç‰©</span> ï¼Œ
                                å›å¿†ä½ å¯¹å¥¹å°è±¡æœ€æ·±åˆ»çš„ç”»é¢ï¼Œå¹¶åœ¨çº¸ä¸Šå†™ä¸‹å¥¹çš„æ˜µç§°æˆ–åå­—</p>
                                <img src='imgs/woman.png'>`
                    return html
                },
                function () {
                    var html = `<p class='attract'>è¯·æƒ³è±¡å›¾ç‰‡ä¸­çš„å¥¹ä¸ä½  <span class='lighting'>ç´ ä¸ç›¸è¯†</span> </p>
                                <img src='imgs/woman.png'>`
                    return html
                }]

        var accept_factors = {
            imgs: ['imgs/lma-1.jpg','imgs/lma-2.jpg','imgs/nma-5.jpg','imgs/nma-6.png','imgs/pma-10.png','imgs/pma-9.png'],
            cond1: [`å¥¹ <span class='lighting'>æ¥å—</span> äº†è¯¥ç”·ç”Ÿçš„è¿½æ±‚å¹¶å‘å±•ä¸ºæ‹äººå…³ç³»`],
            cond2: cond2
        }

        var reject_factors = {
            imgs:['imgs/lmj-3.png','imgs/lmj-4.jpg','imgs/nmj-7.jpg','imgs/nmj-8.jpg','imgs/pmj-11.png','imgs/pmj-12.png'],
            cond1: [`å¥¹ <span class='lighting'>æ‹’ç»</span> äº†è¯¥ç”·ç”Ÿçš„è¿½æ±‚`],
            cond2: cond2
        }

        var accpet = jsPsych.randomization.factorial(accept_factors, 1)
        var reject = jsPsych.randomization.factorial(reject_factors, 1)
        var all_factors = accpet.concat(reject)

        var full_design = jsPsych.randomization.shuffleNoRepeats(all_factors, function(a,b) { return a.imgs === b.imgs })

        var practise_factor = [{
            imgs:'imgs/practise.png',
            cond1:`å¥¹ <span class='lighting'>æ¥å—</span> äº†è¯¥ç”·ç”Ÿçš„è¿½æ±‚å¹¶å‘å±•ä¸ºæ‹äººå…³ç³»`,
            cond2: function () {
                var html = `<p class='attract'>è¯·æƒ³è±¡å›¾ç‰‡ä¸­çš„äººæ˜¯ä½ çš„ <span class='lighting'>é—ºèœœ</span> ï¼Œ
                            å›å¿†ä½ å’Œå¥¹ä¹‹é—´å‘ç”Ÿçš„å°è±¡æ·±åˆ»çš„äº‹ä»¶ï¼Œå¹¶åœ¨çº¸ä¸Šå†™ä¸‹å¥¹çš„æ˜µç§°æˆ–è€…åå­—</p>
                            <img src='imgs/woman.png'>`
                jsPsych.data.addProperties({task:'é—ºèœœ'})
                return html
            },}]

        var pra_question = {
            type: jsPsychHtmlKeyboardResponse,
            stimulus: '<div class="h2">è‹¥å¯¹å®éªŒç¨‹åºå·²ç»æ˜ç™½æŒ‰â€œenterâ€å¼€å§‹æ­£å¼å®éªŒï¼Œ<br/>ä¸æ˜ç™½å¯æŒ‰â€œqâ€å†ç»ƒä¹ ä¸€æ¬¡æˆ–è¯¢é—®ä¸»è¯•</div>',
            data:{task:'pra_question'}
        }

        var pra_loop = {
            timeline: [main_trial(practise_factor),pra_question],
            loop_function: function(data){
                if(jsPsych.pluginAPI.compareKeys(jsPsych.data.get().last(1).values()[0].response, 'q')){
                    return true;
                } else {
                    return false;
                }
            }
        }

        function html_scale(scale_list) {
            var scale_html = `<div class='instruction'>${scale_list[0]}</div>
                                <div class='row'>`
            for (var l = 1;l< scale_list.length-1;l++){
                scale_html += `<label class="form-label">${scale_list[l]}</label>
                                    <div class="btn-group">`

                var options = scale_list[scale_list.length - 1];

                for (var i = 0; i < options.length; i++) {
                    scale_html += `
                        <input type="radio" class="btn-check" name="scale_${l}" id="scale_${l}${i+1}" value="${i+1}" required>
                        <label class="btn btn-outline-primary" for="scale_${l}${i+1}">${options[i]}</label>
                    `;}
                scale_html += '</div>';
            }
            scale_html += '</div>'
            return scale_html
        };

        empathy_list = [
            'è¯·ä»”ç»†é˜…è¯»ä¸‹é¢é¢˜ç›®ï¼Œé€‰æ‹©ä¸è‡ªèº«æœ€æ°å½“çš„é€‰é¡¹',
            '1. å¯¹é‚£äº›æ¯”æˆ‘ä¸å¹¸çš„äººï¼Œæˆ‘ç»å¸¸æœ‰å¿ƒè½¯å’Œå…³æ€€çš„æ„Ÿè§‰ã€‚',
            '2. æœ‰æ—¶å€™å½“å…¶ä»–äººæœ‰å›°éš¾æˆ–é—®é¢˜æ—¶ï¼Œæˆ‘å¹¶ä¸ä¸ºä»–ä»¬æ„Ÿåˆ°éš¾è¿‡ã€‚',
            '4. åœ¨ç´§æ€¥çš„çŠ¶å†µä¸­ï¼Œæˆ‘æ„Ÿåˆ°æ‹…å¿§ã€å®³æ€•è€Œéš¾ä»¥å¹³é™ã€‚',
            '5. åœ¨çœ‹ç”µå½±æˆ–çœ‹æˆæ—¶ï¼Œæˆ‘é€šå¸¸æ˜¯æ—è§‚çš„ï¼Œè€Œä¸”ä¸ç»å¸¸å…¨å¿ƒæŠ•å…¥ã€‚',
            '6. åœ¨åšå†³å®šå‰ï¼Œæˆ‘è¯•ç€ä»äº‰è®ºä¸­å»çœ‹æ¯ä¸ªäººçš„ç«‹åœºã€‚',
            '7. å½“æˆ‘çœ‹åˆ°æœ‰äººè¢«åˆ«äººåˆ©ç”¨æ—¶ï¼Œæˆ‘æœ‰ç‚¹æ„Ÿåˆ°æƒ³è¦ä¿æŠ¤ä»–ä»¬ã€‚',
            '8. å½“æˆ‘å¤„äºä¸€ä¸ªæƒ…ç»ªéå¸¸æ¿€åŠ¨çš„æƒ…å†µä¸­æ—¶ï¼Œæˆ‘å¾€å¾€æ„Ÿåˆ°ä¼šæ— ä¾æ— é ï¼Œä¸çŸ¥å¦‚ä½•æ˜¯å¥½ã€‚',
            '9. æœ‰æ—¶æˆ‘æƒ³åƒä»æˆ‘æœ‹å‹çš„è§‚ç‚¹æ¥çœ‹äº‹æƒ…çš„æ ·å­ï¼Œä»¥ä¾¿æ›´äº†è§£ä»–ä»¬ã€‚',
            '10. å¯¹æˆ‘æ¥è¯´,å…¨å¿ƒçš„æŠ•å…¥ä¸€æœ¬å¥½ä¹¦æˆ–ä¸€éƒ¨å¥½ç”µå½±ä¸­æ˜¯å¾ˆå°‘æœ‰çš„äº‹ã€‚',
            '11. å…¶ä»–äººçš„ä¸å¹¸é€šå¸¸ä¸ä¼šç»™æˆ‘å¸¦æ¥å¾ˆå¤§çš„å›°æ‰°ã€‚',
            '12. çœ‹å®Œæˆæˆ–ç”µå½±ä¹‹åï¼Œæˆ‘è§‰å¾—è‡ªå·±å¥½åƒæ˜¯å‰§ä¸­çš„æŸä¸ªè§’è‰²ã€‚',
            '13. å¤„åœ¨ç´§å¼ æƒ…ç»ªçš„çŠ¶å†µä¸­ï¼Œæˆ‘ä¼šæƒŠæ…Œå®³æ€•ã€‚',
            '14. å½“æˆ‘çœ‹åˆ°æœ‰äººå—åˆ°ä¸å…¬å¹³çš„å¯¹å¾…æ—¶ï¼Œæˆ‘æœ‰æ—¶å¹¶ä¸æ„Ÿåˆ°éå¸¸åŒæƒ…ä»–ä»¬ã€‚',
            '15. æˆ‘ç›¸ä¿¡æ¯ä¸ªé—®é¢˜éƒ½æœ‰ä¸¤é¢è§‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘å°è¯•ç€ä»è¿™ä¸åŒçš„è§‚ç‚¹æ¥çœ‹é—®é¢˜ã€‚',
            '16. æˆ‘è®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªç›¸å½“è½¯å¿ƒè‚ çš„äººã€‚',
            '17. å½“æˆ‘æ¬£èµä¸€éƒ¨å¥½ç”µå½±æ—¶ï¼Œæˆ‘å¾ˆå®¹æ˜“ç«™åœ¨æŸä¸ªä¸»è§’çš„ç«‹åœºå»æ„Ÿå—ä»–çš„å¿ƒæƒ…ã€‚',
            '18. åœ¨ç´§æ€¥çŠ¶å†µä¸­ï¼Œæˆ‘ç´§å¼ çš„å‡ ä¹æ— æ³•æ§åˆ¶è‡ªå·±ã€‚',
            '19. å½“æˆ‘å¯¹ä¸€ä¸ªäººç”Ÿæ°”æ—¶ï¼Œæˆ‘é€šå¸¸ä¼šå°è¯•ç€å»æƒ³ä¸€ä¸‹ä»–çš„ç«‹åœºã€‚',
            '20. å½“æˆ‘é˜…è¯»ä¸€ç¯‡å¼•äººçš„æ•…äº‹æˆ–å°è¯´æ—¶ï¼Œæˆ‘æƒ³åƒç€:å¦‚æœæ•…äº‹ä¸­çš„äº‹ä»¶å‘ç”Ÿåœ¨æˆ‘èº«ä¸Šï¼Œæˆ‘ä¼šæ„Ÿè§‰æ€ä¹ˆæ ·?',
            '21. å½“æˆ‘çœ‹åˆ°æœ‰äººå‘ç”Ÿæ„å¤–éœ€è¦å¸®åŠ©çš„æ—¶å€™ï¼Œæˆ‘ç´§å¼ çš„å‡ ä¹ç²¾ç¥å´©æºƒã€‚',
            '22. åœ¨æ‰¹è¯„åˆ«äººå‰æˆ‘ä¼šè¯•ç€æƒ³è±¡: å‡å¦‚æˆ‘å¤„åœ¨ä»–çš„æƒ…å†µï¼Œæˆ‘çš„æ„Ÿå—å¦‚ä½•ã€‚',
            ['ä¸æ°å½“','æœ‰ä¸€ç‚¹æ°å½“','è¿˜ç®—æ°å½“','æ°å½“','å¾ˆæ°å½“']
        ]
        
        var empathy_scale = {
            type: jsPsychSurveyHtmlForm,    
            preamble: '',
            html: html_scale(empathy_list),
            button_label: 'ä¸‹ä¸€é¡µ',
            autofocus: 'test-resp-box',
            data:{task:'empathy_scale'}
        }

        var app_scale = {
            type: jsPsychSurveyHtmlForm,
            preamble: "",
            html: ` <p class='h2' style='color:black'>è¯·å¡«å†™ä»¥ä¸‹ä¿¡æ¯</p>
                        <div class='row'>
                            <label class='form-label'>1. å¸¸ç”¨åª’ä½“appçš„ç§ç±»ã€å¤šé€‰ã€‘</label>
                            <div class="btn-group" >
                                <input type="checkbox" class="btn-check" id="douyin" name='douyin'>
                                <label class="btn btn-outline-primary" for="douyin">æŠ–éŸ³</label>

                                <input type="checkbox" class="btn-check" id="xiaohongshu" name='xiaohongshu'>
                                <label class="btn btn-outline-primary" for="xiaohongshu">å°çº¢ä¹¦</label>

                                <input type="checkbox" class="btn-check" id="kuaishou" name='kuaishou'>
                                <label class="btn btn-outline-primary" for="kuaishou">å¿«æ‰‹</label>

                                <input type="checkbox" class="btn-check" id="xiaoshou" name='xiaoshuo' >
                                <label class="btn btn-outline-primary" for="xiaoshou">å°è¯´è½¯ä»¶</label>

                                <input type="checkbox" class="btn-check" id="others1" name='others1'>
                                <label class="btn btn-outline-primary" for="others1">å…¶å®ƒ</label>
                            </div>
                        </div>

                        <div class='row'>
                            <label class='form-label'>2. å¸¸çœ‹çš„è§†é¢‘ç±»å‹ã€å¤šé€‰ã€‘</label>
                            <div class="btn-group" >
                                <input type="checkbox" class="btn-check" id="jianshen" name='jianshen'>
                                <label class="btn btn-outline-primary" for="jianshen">å¥èº«</label>

                                <input type="checkbox" class="btn-check" id="meizhuang" name='meizhuang'>
                                <label class="btn btn-outline-primary" for="meizhuang">ç¾å¦†</label>

                                <input type="checkbox" class="btn-check" id="chuanda" name='chuanda'>
                                <label class="btn btn-outline-primary" for="chuanda">ç©¿æ­</label>

                                <input type="checkbox" class="btn-check" id="qinggan" name='qinggan' >
                                <label class="btn btn-outline-primary" for="qinggan">æƒ…æ„Ÿ</label>

                                <input type="checkbox" class="btn-check" id="gaoxiao" name='gaoxiao' >
                                <label class="btn btn-outline-primary" for="gaoxiao">æç¬‘</label>

                                <input type="checkbox" class="btn-check" id="others2" name='others2'>
                                <label class="btn btn-outline-primary" for="others2">å…¶å®ƒ</label>
                            </div>
                        </div>

                        <div class='row'>
                            <label class='form-label'>3. å¸¸é˜…è¯»çš„å°è¯´ç±»å‹ã€å¤šé€‰ã€‘</label>
                            <div class="btn-group" >
                                <input type="checkbox" class="btn-check" id="yanqing" name='yanqing'>
                                <label class="btn btn-outline-primary" for="yanqing">è¨€æƒ…</label>

                                <input type="checkbox" class="btn-check" id="dushi" name='meizhuang'>
                                <label class="btn btn-outline-primary" for="dushi">éƒ½å¸‚</label>

                                <input type="checkbox" class="btn-check" id="xiaoyuan" name='xiaoyuan'>
                                <label class="btn btn-outline-primary" for="xiaoyuan">æ ¡å›­</label>

                                <input type="checkbox" class="btn-check" id="tongren" name='tongren' >
                                <label class="btn btn-outline-primary" for="tongren">åŒäºº</label>

                                <input type="checkbox" class="btn-check" id="danmei" name='danmei' >
                                <label class="btn btn-outline-primary" for="danmei">è€½ç¾</label>

                                <input type="checkbox" class="btn-check" id="xuanyi" name='xuanyi' >
                                <label class="btn btn-outline-primary" for="xuanyi">æ‚¬ç–‘</label>

                                <input type="checkbox" class="btn-check" id="kongbu" name='kongbu' >
                                <label class="btn btn-outline-primary" for="kongbu">ææ€–</label>

                                <input type="checkbox" class="btn-check" id="lishi" name='lishi' >
                                <label class="btn btn-outline-primary" for="lishi">å†å²</label>

                                <input type="checkbox" class="btn-check" id="others3" name='others3'>
                                <label class="btn btn-outline-primary" for="others3">å…¶å®ƒ</label>
                            </div>
                        </div>

                        <div class='row'>
                            <label class='form-label'>4. è§‚çœ‹æ­¤ç±»è§†é¢‘/é˜…è¯»æ­¤ç±»å°è¯´/ç›®çš„ã€å¤šé€‰ã€‘</label>
                            <div class="btn-group" >
                                <input type="checkbox" class="btn-check" id="dafashijian" name='dafashijian'>
                                <label class="btn btn-outline-primary" for="dafashijian">æ‰“å‘æ—¶é—´å¨±ä¹</label>

                                <input type="checkbox" class="btn-check" id="xuexijiqiao" name='xuexijiqiao'>
                                <label class="btn btn-outline-primary" for="xuexijiqiao">å­¦ä¹ æ‹çˆ±æŠ€å·§</label>

                                <input type="checkbox" class="btn-check" id="other4" name='other4'>
                                <label class="btn btn-outline-primary" for="other4">å…¶å®ƒ</label>
                            </div>
                        </div>

                        <div class='row'>
                            <label class='form-label'>5. å¸¸ç”¨appçš„ä½¿ç”¨é¢‘ç‡ã€å•é€‰ã€‘</label>
                            <div class='btn-group'>
                                <input type='radio' class='btn-check' name='app_usetime' id='congbu1' value='1' required>
                                <label class='btn btn-outline-primary' for='congbu1'>ä»ä¸</label>
                                
                                <input type='radio' class='btn-check' name='app_usetime' id='ouer1' value='2'>
                                <label class='btn btn-outline-primary' for='ouer1'>å¶å°”</label>

                                <input type='radio' class='btn-check' name='app_usetime' id='youshi1' value='3'>
                                <label class='btn btn-outline-primary' for='youshi1'>æœ‰æ—¶</label>

                                <input type='radio' class='btn-check' name='app_usetime' id='jingchang1' value='4'>
                                <label class='btn btn-outline-primary' for='jingchang1'>ç»å¸¸</label>

                                <input type='radio' class='btn-check' name='app_usetime' id='zongshi1' value='5'>
                                <label class='btn btn-outline-primary' for='zongshi1'>æ€»æ˜¯</label>
                            </div>
                        </div>

                        <div class='row'>
                            <label class='form-label'>6. å¯¹æ­¤ç±»è§†é¢‘/å°è¯´ç­‰å–œçˆ±ç¨‹åº¦ã€å•é€‰ã€‘</label>
                            <div class='btn-group'>
                                <input type='radio' class='btn-check' name='like_app' id='feichangbuxihuan' value='1' required>
                                <label class='btn btn-outline-primary' for='feichangbuxihuan'>éå¸¸ä¸å–œæ¬¢</label>
                                
                                <input type='radio' class='btn-check' name='like_app' id='butaixihuan' value='2'>
                                <label class='btn btn-outline-primary' for='butaixihuan'>ä¸å¤ªå–œæ¬¢</label>

                                <input type='radio' class='btn-check' name='like_app' id='yiban' value='3'>
                                <label class='btn btn-outline-primary' for='yiban'>ä¸€èˆ¬</label>

                                <input type='radio' class='btn-check' name='like_app' id='bijiaoxihuan' value='4'>
                                <label class='btn btn-outline-primary' for='bijiaoxihuan'>æ¯”è¾ƒå–œæ¬¢</label>

                                <input type='radio' class='btn-check' name='like_app' id='feichangxihuan' value='5'>
                                <label class='btn btn-outline-primary' for='feichangxihuan'>éå¸¸å–œæ¬¢</label>
                            </div>
                        </div>

                        <div class='row'>
                            <label class='form-label'>7. å°†äººç‰©è§’è‰²æƒ…æ„Ÿå¸¦å…¥è‡ªå·±çš„ç¨‹åº¦ã€å•é€‰ã€‘</label>
                            <div class='btn-group'>
                                <input type='radio' class='btn-check' name='inside' id='congbu2' value='1' required>
                                <label class='btn btn-outline-primary' for='congbu2'>ä»ä¸</label>
                                
                                <input type='radio' class='btn-check' name='inside' id='ouer2' value='2'>
                                <label class='btn btn-outline-primary' for='ouer2'>å¶å°”</label>

                                <input type='radio' class='btn-check' name='inside' id='youshi2' value='3'>
                                <label class='btn btn-outline-primary' for='youshi2'>æœ‰æ—¶</label>

                                <input type='radio' class='btn-check' name='inside' id='jingchang2' value='4'>
                                <label class='btn btn-outline-primary' for='jingchang2'>ç»å¸¸</label>

                                <input type='radio' class='btn-check' name='inside' id='zongshi2' value='5'>
                                <label class='btn btn-outline-primary' for='zongshi2'>æ€»æ˜¯</label>
                            </div>
                        </div>

                        <div class='row'>
                            <label class='form-label'>8. å‚ä¸ç½‘ç»œå©šæ‹é—®é¢˜è®¨è®ºçš„é¢‘ç‡ã€å•é€‰ã€‘</label>
                            <div class='btn-group'>
                                <input type='radio' class='btn-check' name='marr_conver' id='congbu3' value='1' required>
                                <label class='btn btn-outline-primary' for='congbu3'>ä»ä¸</label>
                                
                                <input type='radio' class='btn-check' name='marr_conver' id='ouer3' value='2'>
                                <label class='btn btn-outline-primary' for='ouer3'>å¶å°”</label>

                                <input type='radio' class='btn-check' name='marr_conver' id='youshi3' value='3'>
                                <label class='btn btn-outline-primary' for='youshi3'>æœ‰æ—¶</label>

                                <input type='radio' class='btn-check' name='marr_conver' id='jingchang3' value='4'>
                                <label class='btn btn-outline-primary' for='jingchang3'>ç»å¸¸</label>

                                <input type='radio' class='btn-check' name='marr_conver' id='zongshi3' value='5'>
                                <label class='btn btn-outline-primary' for='zongshi3'>æ€»æ˜¯</label>
                            </div>
                        </div>

                        <div class='row'>
                            <label class='form-label'>9. æ˜¯å¦ä½¿ç”¨è¿‡æ‹çˆ±äº¤å‹è½¯ä»¶ã€å•é€‰ã€‘</label>
                            <div class='btn-group'>
                                <input type='radio' class='btn-check' name='mate_app' id='yes1' value='1' required>
                                <label class='btn btn-outline-primary' for='yes1'>æ˜¯</label>
                                
                                <input type='radio' class='btn-check' name='mate_app' id='no1' value='0'>
                                <label class='btn btn-outline-primary' for='no1'>å¦</label>
                            </div>
                        </div>

                        <div class='row'>
                            <label class='form-label'>10. æ˜¯å¦éœ€è¦å­¦æ ¡æä¾›æ‹çˆ±äº¤å‹æŒ‡å¯¼ç›¸å…³è¯¾ç¨‹ã€å•é€‰ã€‘</label>
                            <div class='btn-group'>
                                <input type='radio' class='btn-check' name='mate_class' id='yes2' value='1' required>
                                <label class='btn btn-outline-primary' for='yes2'>æ˜¯</label>
                                
                                <input type='radio' class='btn-check' name='mate_class' id='no2' value='0'>
                                <label class='btn btn-outline-primary' for='no2'>å¦</label>
                            </div>
                        </div>
                        `,
            button_label: 'ä¸‹ä¸€é¡µ',
            dataAsArray: true,
            autofocus: 'test-resp-box',
            data:{task:'app_scale'},
        };

        var open_scale = {
            type: jsPsychSurveyHtmlForm,
            preamble: "",
            html: ` <p class='h2' style='color:black'>è¯·å¡«å›ç­”ä»¥ä¸‹é—®é¢˜</p>
                    <div class='row'>
                        <label class='form-label'>1. ä½ è§‰å¾—è‡ªå·±éœ€è¦ä¼´ä¾£å—ï¼Ÿä½ ç†æƒ³ä¸­çš„ä¼´ä¾£æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿè¯·ç®€å•æè¿°ä¸€ä¸‹</label>
                    </div>
                    <textarea class="form-control" name='need_mate' required></textarea>

                    <div class='row'>
                        <label class='form-label'>2. ä½ è§‰å¾—çŸ­è§†é¢‘ã€ç”µè§†å‰§ã€å°è¯´ç­‰å¯¹ä½ çš„æ‹©å¶æœ‰å½±å“å—ï¼Ÿä½“ç°åœ¨å“ªäº›æ–¹é¢å‘¢ï¼Ÿï¼ˆèº«é«˜ã€é•¿ç›¸ã€æ€§æ ¼ã€å®¶ä¸–ã€ä½“è´´å…¥å¾®çš„ç…§é¡¾ç­‰å¯å±•å¼€è¯´è¯´ï¼‰</label>
                    </div>
                    <textarea class="form-control" name='influence' required></textarea>
                    
                    <div class='row'>
                        <label class='form-label'>3. ä½ ä¼šè€ƒè™‘è¦å‡ ä¸ªå®å®ï¼Ÿ</label>
                    </div>
                    <textarea class="form-control" name='babys' required></textarea>`,
            button_label: 'ä¸‹ä¸€é¡µ',
            dataAsArray: true,
            autofocus: 'test-resp-box',
            data:{task:'open_scale'},
        };

        var end = {
            type: jsPsychHtmlKeyboardResponse,
            stimulus:`<h1 style='line-height:2.7rem'>å®éªŒç»“æŸï¼Œæ„Ÿè°¢æ‚¨çš„å‚ä¸ï¼<br/>ç¥æ‚¨æœ‰ä¸ªç¾å¥½çš„ä¸€å¤©ğŸŒï¼</h1>`,
            trial_duration: 3000,
            choices: "NO_KEYS",
        }

        var exit_fullscreen = {
            type: jsPsychFullscreen,
            fullscreen_mode: false,
            delay_after: 0,
        }

        timeline = [
            brower,
            enter_fullscreen,
            set_style,
            // agreement,
            // instruction,
            // pra_loop,
            // main_trial(full_design),
            // empathy_scale,
            // app_scale,
            // open_scale,
            info,
            end,
            exit_fullscreen
        ]
        jsPsych.run(timeline)
    </script>
</html>